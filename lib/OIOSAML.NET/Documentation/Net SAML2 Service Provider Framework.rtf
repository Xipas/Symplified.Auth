{\rtf1\ansi\ansicpg1252\cocoartf1187\cocoasubrtf370
{\fonttbl\f0\froman\fcharset0 TimesNewRomanPSMT;\f1\fnil\fcharset0 Cambria;\f2\fnil\fcharset0 Calibri;
\f3\fmodern\fcharset0 CourierNewPSMT;\f4\ftech\fcharset77 Symbol;\f5\fmodern\fcharset0 CourierNewPS-BoldMT;
\f6\fnil\fcharset128 HiraKakuProN-W3;\f7\ftech\fcharset0 Wingdings-Regular;}
{\colortbl;\red255\green255\blue255;\red23\green54\blue93;\red0\green0\blue255;\red54\green95\blue145;
\red84\green141\blue212;\red79\green129\blue189;\red163\green21\blue21;\red255\green0\blue0;\red217\green217\blue217;
\red191\green191\blue191;}
{\*\listtable{\list\listtemplateid1\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid1\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid1}
{\list\listtemplateid2\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid101\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listlevel\levelnfc4\levelnfcn4\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{lower-alpha\}.}{\leveltext\leveltemplateid102\'02\'01.;}{\levelnumbers\'01;}\fi-360\li1440\lin1440 }{\listname ;}\listid2}
{\list\listtemplateid3\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid201\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listlevel\levelnfc4\levelnfcn4\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{lower-alpha\}.}{\leveltext\leveltemplateid202\'02\'01.;}{\levelnumbers\'01;}\fi-360\li1440\lin1440 }{\listname ;}\listid3}
{\list\listtemplateid4\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid301\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listlevel\levelnfc4\levelnfcn4\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{lower-alpha\}.}{\leveltext\leveltemplateid302\'02\'01.;}{\levelnumbers\'01;}\fi-360\li1440\lin1440 }{\listlevel\levelnfc2\levelnfcn2\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{lower-roman\}.}{\leveltext\leveltemplateid303\'02\'02.;}{\levelnumbers\'01;}\fi-360\li2160\lin2160 }{\listname ;}\listid4}
{\list\listtemplateid5\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid401\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listlevel\levelnfc4\levelnfcn4\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{lower-alpha\}.}{\leveltext\leveltemplateid402\'02\'01.;}{\levelnumbers\'01;}\fi-360\li1440\lin1440 }{\listname ;}\listid5}
{\list\listtemplateid6\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid501\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listlevel\levelnfc4\levelnfcn4\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{lower-alpha\}.}{\leveltext\leveltemplateid502\'02\'01.;}{\levelnumbers\'01;}\fi-360\li1440\lin1440 }{\listlevel\levelnfc2\levelnfcn2\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{lower-roman\}.}{\leveltext\leveltemplateid503\'02\'02.;}{\levelnumbers\'01;}\fi-360\li2160\lin2160 }{\listname ;}\listid6}
{\list\listtemplateid7\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid601\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listlevel\levelnfc4\levelnfcn4\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{lower-alpha\}.}{\leveltext\leveltemplateid602\'02\'01.;}{\levelnumbers\'01;}\fi-360\li1440\lin1440 }{\listname ;}\listid7}
{\list\listtemplateid8\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid701\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listlevel\levelnfc4\levelnfcn4\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{lower-alpha\}.}{\leveltext\leveltemplateid702\'02\'01.;}{\levelnumbers\'01;}\fi-360\li1440\lin1440 }{\listname ;}\listid8}
{\list\listtemplateid9\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid801\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listlevel\levelnfc4\levelnfcn4\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{lower-alpha\}.}{\leveltext\leveltemplateid802\'02\'01.;}{\levelnumbers\'01;}\fi-360\li1440\lin1440 }{\listname ;}\listid9}
{\list\listtemplateid10\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid901\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listlevel\levelnfc4\levelnfcn4\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{lower-alpha\}.}{\leveltext\leveltemplateid902\'02\'01.;}{\levelnumbers\'01;}\fi-360\li1440\lin1440 }{\listname ;}\listid10}
{\list\listtemplateid11\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid1001\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listlevel\levelnfc4\levelnfcn4\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{lower-alpha\}.}{\leveltext\leveltemplateid1002\'02\'01.;}{\levelnumbers\'01;}\fi-360\li1440\lin1440 }{\listname ;}\listid11}
{\list\listtemplateid12\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid1101\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listlevel\levelnfc4\levelnfcn4\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{lower-alpha\}.}{\leveltext\leveltemplateid1102\'02\'01.;}{\levelnumbers\'01;}\fi-360\li1440\lin1440 }{\listname ;}\listid12}
{\list\listtemplateid13\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid1201\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listlevel\levelnfc4\levelnfcn4\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{lower-alpha\}.}{\leveltext\leveltemplateid1202\'02\'01.;}{\levelnumbers\'01;}\fi-360\li1440\lin1440 }{\listlevel\levelnfc2\levelnfcn2\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{lower-roman\}.}{\leveltext\leveltemplateid1203\'02\'02.;}{\levelnumbers\'01;}\fi-360\li2160\lin2160 }{\listname ;}\listid13}
{\list\listtemplateid14\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}.}{\leveltext\leveltemplateid1301\'02\'00.;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listlevel\levelnfc4\levelnfcn4\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{lower-alpha\}.}{\leveltext\leveltemplateid1302\'02\'01.;}{\levelnumbers\'01;}\fi-360\li1440\lin1440 }{\listname ;}\listid14}}
{\*\listoverridetable{\listoverride\listid1\listoverridecount0\ls1}{\listoverride\listid2\listoverridecount0\ls2}{\listoverride\listid3\listoverridecount0\ls3}{\listoverride\listid4\listoverridecount0\ls4}{\listoverride\listid5\listoverridecount0\ls5}{\listoverride\listid6\listoverridecount0\ls6}{\listoverride\listid7\listoverridecount0\ls7}{\listoverride\listid8\listoverridecount0\ls8}{\listoverride\listid9\listoverridecount0\ls9}{\listoverride\listid10\listoverridecount0\ls10}{\listoverride\listid11\listoverridecount0\ls11}{\listoverride\listid12\listoverridecount0\ls12}{\listoverride\listid13\listoverridecount0\ls13}{\listoverride\listid14\listoverridecount0\ls14}}
{\info
{\author Regin Thomsen}}\margl1134\margr1134\margb1701\margt1701\vieww20220\viewh15540\viewkind1
\deftab720
\pard\pardeftab720\ri0\sa300

\f0\fs52 \cf2 \kerning1\expnd1\expndtw5
\
\
\
\
\pard\pardeftab720\ri0\sa300

\f1 \cf2 \kerning1\expnd1\expndtw5
.Net SAML2 Service Provider Framework
\f0 \kerning1\expnd1\expndtw5
\
\pard\pardeftab720\ri0
\cf2 \kerning1\expnd1\expndtw5
\page \
\pard\tx480\tqr\tx9962\pardeftab720\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285121%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \kerning1\expnd0\expndtw0 \ul \ulc3 1
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Introduction
\f0\b0 \cf0 \ulnone 	
\f1 4}}
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx480\tqr\tx9962\pardeftab720\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285122%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 2
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Release history
\f0\b0 \cf0 \ulnone 	
\f1 4}}\
\pard\tx480\tqr\tx9962\pardeftab720\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285123%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 3
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Prerequisites
\f0\b0 \cf0 \ulnone 	
\f1 6}}\
\pard\tx880\tqr\tx9962\pardeftab720\li240\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285124%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 3.1
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 General prerequisites
\f0\b0 \cf0 \ulnone 	
\f1 6}}\
\pard\tx880\tqr\tx9962\pardeftab720\li240\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285125%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 3.2
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Prerequisites for the binary distribution
\f0\b0 \cf0 \ulnone 	
\f1 6}}\
\pard\tx880\tqr\tx9962\pardeftab720\li240\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285126%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 3.3
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Prerequisites for the source distribution
\f0\b0 \cf0 \ulnone 	
\f1 6}}\
\pard\tx880\tqr\tx9962\pardeftab720\li240\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285127%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 3.4
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 The open source project log4net.
\f0\b0 \cf0 \ulnone 	
\f1 6}}\
\pard\tx480\tqr\tx9962\pardeftab720\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285128%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 4
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Distribution contents
\f0\b0 \cf0 \ulnone 	
\f1 7}}\
\pard\tx480\tqr\tx9962\pardeftab720\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285129%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 5
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Running the sample
\f0\b0 \cf0 \ulnone 	
\f1 8}}\
\pard\tx880\tqr\tx9962\pardeftab720\li240\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285130%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 5.1
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Preparation
\f0\b0 \cf0 \ulnone 	
\f1 8}}\
\pard\tx880\tqr\tx9962\pardeftab720\li240\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285131%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 5.2
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Running the Unit Test
\f0\b0 \cf0 \ulnone 	
\f1 10}}\
\pard\tx880\tqr\tx9962\pardeftab720\li240\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285132%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 5.3
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Demonstrating federation
\f0\b0 \cf0 \ulnone 	
\f1 10}}\
\pard\tx880\tqr\tx9962\pardeftab720\li240\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285133%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 5.4
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Demonstrating IdP Discovery using Common Domain Cookie
\f0\b0 \cf0 \ulnone 	
\f1 12}}\
\pard\tx880\tqr\tx9962\pardeftab720\li240\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285134%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 5.5
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Demonstration of IDP selection when multiple IDP\'92s are available
\f0\b0 \cf0 \ulnone 	
\f1 14}}\
\pard\tx480\tqr\tx9962\pardeftab720\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 6
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Using the framework
\f0\b0 \cf0 \ulnone 	
\f1 16}}\
\pard\tx880\tqr\tx9962\pardeftab720\li240\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285136%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 6.1
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Creating your own service provider web site
\f0\b0 \cf0 \ulnone 	
\f1 16}}\
\pard\tx880\tqr\tx9962\pardeftab720\li240\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285137%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 6.2
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Working with real third party Identity Providers
\f0\b0 \cf0 \ulnone 	
\f1 17}}\
\pard\tx880\tqr\tx9962\pardeftab720\li240\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285138%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 6.3
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Setting up more than one service provider
\f0\b0 \cf0 \ulnone 	
\f1 18}}\
\pard\tx480\tqr\tx9962\pardeftab720\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285139%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 7
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Components
\f0\b0 \cf0 \ulnone 	
\f1 19}}\
\pard\tx880\tqr\tx9962\pardeftab720\li240\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285140%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 7.1
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 SAML 2.0 framework
\f0\b0 \cf0 \ulnone 	
\f1 19}}\
\pard\tx880\tqr\tx9962\pardeftab720\li240\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285141%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 7.2
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Demonstration identity provider
\f0\b0 \cf0 \ulnone 	
\f1 19}}\
\pard\tx480\tqr\tx9962\pardeftab720\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285142%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 8
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Certificate management
\f0\b0 \cf0 \ulnone 	
\f1 21}}\
\pard\tx480\tqr\tx9962\pardeftab720\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285143%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 9
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Configuration reference
\f0\b0 \cf0 \ulnone 	
\f1 23}}\
\pard\tx880\tqr\tx9962\pardeftab720\li240\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285144%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 9.1
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 <Federation>
\f0\b0 \cf0 \ulnone 	
\f1 23}}\
\pard\tx880\tqr\tx9962\pardeftab720\li240\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285145%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 9.2
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 <Saml20Federation>
\f0\b0 \cf0 \ulnone 	
\f1 25}}\
\pard\tx660\tqr\tx9962\pardeftab720\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285146%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 10
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 API reference
\f0\b0 \cf0 \ulnone 	
\f1 29}}\
\pard\tx1100\tqr\tx9962\pardeftab720\li240\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285147%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 10.1
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Saml20Identity
\f0\b0 \cf0 \ulnone 	
\f1 29}}\
\pard\tx1100\tqr\tx9962\pardeftab720\li240\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285148%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 10.2
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 HttpHandlers
\f0\b0 \cf0 \ulnone 	
\f1 30}}\
\pard\tx1100\tqr\tx9962\pardeftab720\li240\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285149%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 10.3
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Attribute queries
\f0\b0 \cf0 \ulnone 	
\f1 31}}\
\pard\tx1100\tqr\tx9962\pardeftab720\li240\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285150%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 10.4
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Sample identity provider API
\f0\b0 \cf0 \ulnone 	
\f1 31}}\
\pard\tx1100\tqr\tx9962\pardeftab720\li240\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285151%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 10.5
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 ForceAuthn and IsPassive
\f0\b0 \cf0 \ulnone 	
\f1 31}}\
\pard\tx660\tqr\tx9962\pardeftab720\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285152%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 11
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Common Domain Cookies
\f0\b0 \cf0 \ulnone 	
\f1 32}}\
\pard\tx660\tqr\tx9962\pardeftab720\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285153%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 12
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Virk.dk extension
\f0\b0 \cf0 \ulnone 	
\f1 33}}\
\pard\tx660\tqr\tx9962\pardeftab720\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285154%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 13
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Troubleshooting
\f0\b0 \cf0 \ulnone 	
\f1 34}}\
\pard\tx1100\tqr\tx9962\pardeftab720\li240\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285155%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 13.1
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Enabling debug logging
\f0\b0 \cf0 \ulnone 	
\f1 34}}\
\pard\tx660\tqr\tx9962\pardeftab720\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285156%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 14
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Audit & Logging
\f0\b0 \cf0 \ulnone 	
\f1 35}}\
\pard\tx660\tqr\tx9962\pardeftab720\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285157%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 15
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 Setting up with ADFS v2.
\f0\b0 \cf0 \ulnone 	
\f1 36}}\
\pard\tx660\tqr\tx9962\pardeftab720\ri0\sa100
{\field{\*\fldinst{HYPERLINK "%5Cl%20%22_Toc252285158%22"}}{\fldrslt 
\f1\b\fs24 \cf3 \ul \ulc3 16
\f2\b0\fs22 \cf0 \ulnone 	
\f1\b\fs24 \cf3 \ul \ulc3 References
\f0\b0 \cf0 \ulnone 	
\f1 38}}\
\pard\pardeftab720\ri0

\f0\b\fs20 \cf4 \
\pard\pardeftab720\ri0

\b0\fs24 \cf0 \page \
\pard\pardeftab720\ri0

\b\fs20 \cf4 \
\pard\pardeftab720\li432\fi-432\ri0\sl276\slmult1\sb480

\f1\fs28 \cf4 1	Introduction\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0\fs22 \cf0 This document describes the .Net SAML2 Service Provider Framework. The document is naturally a part of the full package and as such it will be extended along with the framework.\
\pard\pardeftab720\ri0
\cf0 Chapter  5 provides a quick start guide for creating a functional sample application of the framework in your own environment.\
Each component in this distribution is described in detail in chapters 4 and 7. \
The 
\i API reference
\i0  chapter explains how the framework can be used to access user information issued by identity providers.\
\pard\pardeftab720\li432\fi-432\ri0\sl276\slmult1\sb480

\f1\b\fs28 \cf4 2	Release history\

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrt\brdrs\brdrw10\brdrcf0 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth1098\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx2880
\clvertalt \clshdrawnil \clwWidth1800\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx5760
\clvertalt \clshdrawnil \clwWidth6678\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f2\b0\fs22 \cf0 1.0 RC 1
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 24\super th\nosupersub  of April 08
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Extracted the Saml2 framework from Safewhere\'92s codebase.
\fs24 \

\fs22 Created a demo service provider.
\fs24 \

\fs22 Moved classes into the 
\f3 dk.nita.saml2
\f2  namespace.
\fs24 \

\fs22 Created this document.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth1098\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx2880
\clvertalt \clshdrawnil \clwWidth1800\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx5760
\clvertalt \clshdrawnil \clwWidth6678\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 1.0
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 30\super th\nosupersub  of May 08
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Added demonstration identity provider.
\fs24 \

\fs22 Implemented SOAP binding.
\fs24 \

\fs22 Implemented ARTIFACT binding.
\fs24 \

\fs22 Implemented attribute queries.
\fs24 \

\fs22 Implemented persistent pseudonyms.
\fs24 \

\fs22 Extended documentation.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth1098\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx2880
\clvertalt \clshdrawnil \clwWidth1800\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx5760
\clvertalt \clshdrawnil \clwWidth6678\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 1.1
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 25\super th\nosupersub  of July 08
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Implemented review comments.
\fs24 \

\fs22 Demo IdP configuration is now persistent.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth1098\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx2880
\clvertalt \clshdrawnil \clwWidth1800\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx5760
\clvertalt \clshdrawnil \clwWidth6678\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 1.3.0.2
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 11\super th\nosupersub  of September 2008
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 .Net Framework requirement changed to 3.0 for binary dist.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth1098\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx2880
\clvertalt \clshdrawnil \clwWidth1800\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx5760
\clvertalt \clshdrawnil \clwWidth6678\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 1.5 RC 1
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 27\super th\nosupersub  of November 2009
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Incorporated 4 patches from Trifork:\uc0\u8232   1) ID in signaturevalidation.\u8232   2) Wrong AttributeConsumingService block\u8232   3) Error regarding empty AttributeConsumingService\u8232   5) Logging\u8232 Implemented Configuration feature for the DemoIdP.
\fs24 \

\fs22 Corrected \'e6\'f8\'e5-error in sign-out.\uc0\u8232 Implemented replay-check\u8232 Extended the documentation regarding\u8232   1) setup of Common Domain Cookie.\u8232   2) logging
\fs24 \

\fs22   3) Configuration of DemoIdP.\uc0\u8232 \
\uc0\u8232 
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth1098\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx2880
\clvertalt \clshdrawnil \clwWidth1800\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx5760
\clvertalt \clshdrawnil \clwWidth6678\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 1.5 
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 21\super th\nosupersub  of December 2009
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Added description of private key access in 2008.\
Added paragraph on how to Connect DK.NITA with ADFSv2.\uc0\u8232 Moved Project Reference for WebDemoVirk\u8232 \u8232 
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth1098\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx2880
\clvertalt \clshdrawnil \clwWidth1800\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx5760
\clvertalt \clshdrawnil \clwWidth6678\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 1.6\cell 
\pard\intbl\itap1\pardeftab720\ri0
\cf0 27\super th\nosupersub  of January 2010\cell 
\pard\intbl\itap1\pardeftab720\ri0
\cf0 Improved support for use of multiple IDPs:\
\pard\intbl\itap1\pardeftab720\li720\fi-360\ri0
\ls1\ilvl0\cf0 1)	Added default-attribute to add-element in IDPEndPoints element\
2)	Added idpSelectionUrl attribute to IDPEndPoints element\
3)	Added 
\f3\fs20 IDPSelectionUtil 
\f2\fs22 class and
\f3\fs20  IDPSelectionEventHandler
\f2\fs22 \
\pard\intbl\itap1\pardeftab720\ri0
\cf0 Added section 5.5 in the documentation and updated the Configuration reference. Corrected section 4 and 5.2.
\fs24 \

\fs22 \
Fixed bug in IdentityProviderDemo: Common Domain Cookie demo described in section 5.4 of the documentation now works in other browsers than IE.\
\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrb\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth1098\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx2880
\clvertalt \clshdrawnil \clwWidth1800\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx5760
\clvertalt \clshdrawnil \clwWidth6678\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0\sl276\slmult1

\f1\fs24 \cf0 1.7
\f0 \cell 
\pard\intbl\itap1\pardeftab720\ri0\sl276\slmult1

\f1 \cf0 6\super th\nosupersub  of december 2010
\f0 \cell 
\pard\intbl\itap1\pardeftab720\ri0\sl276\slmult1

\f1 \cf0 Support for POST-binding with regard to single-logout. The metadata generator will automatically add support for POST-binding SLO if new metadata is generated.
\f0 \
\

\f1 The service providers will have to exchange metadata with the IdP's again to ensure that the IdP's will use the post-binding.\
\
Note that some IdP's might prefer HTTP-Redirect binding if both are enabled (currently both are enabled, you will have to remove the HTTP-Redirect entry from the metadata in that case)
\f0 \cell \lastrow\row
\pard\pardeftab720\ri0\sl276\slmult1\sb480

\b\fs28 \cf4 \
\pard\pardeftab720\ri0

\b0\fs24 \cf0 \page \
\pard\pardeftab720\ri0\sl276\slmult1\sb480

\f1\b\fs28 \cf4 3	Prerequisites
\f0 \
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0\fs22 \cf0 \
\pard\pardeftab720\li576\fi-576\ri0\sl276\slmult1\sb200

\f1\b \cf5 3.1	
\fs26 \cf6 General prerequisites\
\pard\pardeftab720\li720\fi-360\ri0\sl276\slmult1\sa200

\f4\b0\fs22 \cf0 \'a5	
\f2 IIS must be running asp.net 2.0 mode.\
\pard\pardeftab720\li576\fi-576\ri0\sl276\slmult1\sb200

\f1\b \cf5 3.2	
\fs26 \cf6 Prerequisites for the binary distribution\
\pard\pardeftab720\li720\fi-360\ri0\sl276\slmult1\sa200

\f4\b0\fs22 \cf0 \'a5	
\f2 .NET 3.5 SP1 runtime or later.\

\f4 \'a5	
\f2 ASP.NET 2.0 or later.\

\f4 \'a5	
\f2 NUnit 2.4 or later is required for running the unit tests.\
\pard\pardeftab720\li576\fi-576\ri0\sl276\slmult1\sb200

\f1\b \cf5 3.3	
\fs26 \cf6 Prerequisites for the source distribution\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0\fs22 \cf0 Same as the binary distribution plus\
\pard\pardeftab720\li720\fi-360\ri0\sl276\slmult1\sa200

\f4 \cf0 \'a5	
\f2 Visual Studio 2008 \
\pard\pardeftab720\li576\fi-576\ri0\sl276\slmult1\sb200

\f1\b \cf5 3.4	
\fs26 \cf6 The open source project log4net.\
\pard\pardeftab720\ri0

\f0\b0\fs24 \cf0 \
\pard\pardeftab720\li720\fi-720\ri0\sl276\slmult1\sa200

\f2\fs22 \cf0 Log4net is used to provide audit and logging facilities. More on log4net can be found on {\field{\*\fldinst{HYPERLINK "%22"}}{\fldrslt \cf3 \ul \ulc3 http://logging.apache.org/logchj4net/index.html}} , a version of the log4net.dll is supplied with the dk.nita solution. This version, or a version found on the Apache site, must be copied to the bin directory of the service provider.\
\pard\pardeftab720\ri0\sl276\slmult1\sa200
\cf0 \
\page \
\pard\pardeftab720\li432\fi-432\ri0\sl276\slmult1\sb480

\f1\b\fs28 \cf4 4	Distribution contents\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0\fs22 \cf0 The framework is distributed as two packages\
\pard\pardeftab720\li720\fi-360\ri0\sl276\slmult1\sa200

\f4 \cf0 \'a5	
\f2 A binary archive containing compiled versions of the framework and sample applications.\

\f4 \'a5	
\f2 A zip archive containing the source code for the above mentioned components.\

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrt\brdrs\brdrw10\brdrcf0 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth4573\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5003\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3 \cf0 Net SAML2 Service Provider Framework.rtf
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 This documentation. 
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth4573\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5003\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 src\\
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 The framework source code. Distributed as a Visual Studio 2008 solution (dk.nita.saml20.sln) . 
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth4573\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5003\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 src\\Sample_Identity_Provider.pfx, src\\Sample_Service_Provider.pfx
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Demo certificates that can be used to run the IdP/SP demo. Also required to run the unit tests.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth4573\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5003\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 src\\dk.nita.saml20
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 The source code of the core framework, i.e. implementation of SAML Assertions and Protocols.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth4573\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5003\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 src\\dk.nita.saml20.ext.brs
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 The source code of the extension that provides programmatic access to the virk.dk Authorisations attribute.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth4573\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5003\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 src\\dk.nita.test.saml20
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 The framework\'92s unit tests and test data.
\fs24 \

\fs22 The unit tests must be executed using 
\f3 NUnit 2.4 
\f2 or compatible unit testing software.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth4573\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5003\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 src\\dk.nita.test.saml20.ext.brs
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 The virk.dk Authorisations attribute unit tests and test data.
\fs24 \

\fs22 The unit tests must be executed using 
\f3 NUnit 2.4 
\f2 or compatible unit testing software.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth4573\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5003\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 src\\WebsiteDemo
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 An ASP.NET web site that acts as a simple service provider using the framework for federation.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth4573\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5003\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 src\\IdentityProviderDemo
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 An ASP.NET web site that acts as a limited identity provider.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth4573\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5003\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 src\\WebsiteDemoVirk
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 An ASP.NET web site that acts as a simple service provider for Virk using the framework for federation.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth4573\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5003\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 src\\dk.nita.saml20\\Documentation
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Contains this document
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth4573\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5003\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 bin\\
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 The framework compiled.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth4573\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5003\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 bin\\Sample_Identity_Provider.pfx, bin\\Sample_Service_Provider.pfx
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Demo certificates that can be used to run the IdP/SP demo. Also required to run the unit tests.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth4573\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5003\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 bin\\IdentityProviderDemo\\
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 A compiled version of the demonstration identity provider, which can be installed as a website in IIS.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth4573\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5003\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 bin\\WebsiteDemo\\
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 A compiled version of the demonstration service provider, which can be installed as a website in IIS.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrb\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth4573\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5003\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 bin\\WebsiteDemoVirk\\
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 A compiled version of the demonstration service provider for Virk, which can be installed as a website in IIS.
\fs24 \cell \lastrow\row
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\fs22 \cf0 \
\pard\pardeftab720\li432\fi-432\ri0\sl276\slmult1\sb480

\f1\b\fs28 \cf4 5	Running the sample\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0\fs22 \cf0 This chapter describes the steps required to quickly get the included sample up and running to try out the features of the framework. \
\pard\pardeftab720\li576\fi-576\ri0\sl276\slmult1\sb200

\f1\b \cf5 5.1	
\fs26 \cf6 Preparation\
\pard\pardeftab720\li720\fi-360\ri0\sl276\slmult1\sa200

\f2\b0\fs22 \cf0 1.	If working with the source distribution, open and compile in Visual Studio. The 
\f3 Saml2Test
\f2  project can be disabled, if you are not interested in executing the included automated tests.\
2.	Install the certificates (contained in the distribution) to support both the service provider and identity provider.  The certificates are located in 
\f3 dk.nita.saml20\\bin (
\f2 or 
\f3 \'85\\src)
\f2 . \uc0\u8232 The password for the certificates is \'93
\f3 test1234
\f2 \'94.\
\pard\pardeftab720\li1440\fi-360\ri0\sl276\slmult1\sa200
\cf0 a.	Start the Microsoft Management Console (MMC) and add the 
\f3 Certificates
\f2  snap-in. Choose \'93Computer Account\'94 and then \'93Local Computer\'94.\
b.	Import the certificate in the file 
\f3 Sample_Identity_Provider.pfx 
\f2 into \uc0\u8232 \'93
\f3 Local Computer\\Personal\\Certificates
\f2 \'94.
\fs18 \

\fs22 c.	Import the certificates in the file 
\f3 Sample_Service_Provider.pfx 
\f2 into \uc0\u8232 \'93
\f3 Local Computer\\Personal\\Certificates
\f2 \'94.\
d.	Drag and drop the root certificate \'93
\f3 DemoProviderRoot
\f2 \'94 from \'93
\f3 Local Computer\\Personal\\Certificates
\f2 \'94
\fs18  
\fs22 into \uc0\u8232 \'93
\f3 Local Computer\\Trusted Root Certification Authorities\\Certificates
\f2 \'94
\f3\fs18 \
\pard\pardeftab720\li720\fi-360\ri0\sl276\slmult1\sa200

\f2\fs22 \cf0 3.	Open up IIS Manager and add two new 
\i Virtual Directories
\i0  (
\i Applications
\i0  if on IIS 7):\
\pard\pardeftab720\li1440\fi-720\ri0
\cf0 a.	One named 
\f3 demo
\f2  that points to the service provider, the 
\f3 WebsiteDemo
\f2  directory. The \uc0\u8232 resulting URL should be {\field{\*\fldinst{HYPERLINK "http://machinename/demo/Default.aspx"}}{\fldrslt 
\f3 \cf3 \ul \ulc3 http://<machinename>/demo}}\
b.	One named 
\f3 IdP 
\f2 that points to the identity provider, the  
\f3 IdentityProviderDemo \uc0\u8232 
\f2 directory. The resulting URL should be {\field{\*\fldinst{HYPERLINK "http://machinename/demo/Default.aspx"}}{\fldrslt 
\f3 \cf3 \ul \ulc3 http://<machinename>/IdP}}\
\
\pard\pardeftab720\li720\fi-360\ri0\sl276\slmult1\sa200
\cf0 4.	Set the correct access control entries, ACLs, on the certificates just installed in step 2:\
\pard\pardeftab720\li1080\fi-360\ri0\sl276\slmult1\sa200
\cf0 Note: If running on IIS 6.0 or above you will most likely have applied the default setup of the websites, which means they will be run by the built-in account, NETWORK SERVICE. This account must be granted read access to the certificates \'96 this can either be done directly from the MMC with the certificate snap-in, or as described below (Will not work on Windows 7 or Windows Server 2008 R2):\
\pard\pardeftab720\li1440\fi-720\ri0
\cf0 a.	From a Command Prompt run FindPrivateKey.exe located in dk.nita.saml20\\bin with the options LocalMachine and My, i.e. \'93FindPrivateKey.exe LocalMachine My\'94.\
b.	Select one of the priviously imported certificates and click OK.\
c.	On the Security tab add \'93NETWORK SERVICE\'93 to \'93Group and user names\'94.\
d.	Repeat the above steps with the second certificate.\
\
On Windows server 2008 and Windows 7, the private key properties can be accessed directly from the certificate snap-in in the MMC, as shown in the screenshot below:\
\
\
\
 \
\pard\pardeftab720\li720\fi-360\ri0\sl276\slmult1\sa200
\cf0 5.	Modify the Web.config of the identity provider, the 
\f3 IdentityProviderDemo
\f2  application. One app setting must be changed:\
\pard\pardeftab720\li1440\fi-360\ri0\sl276\slmult1\sa200
\cf0 a.	The <
\f3\fs20 \cf3 IDPDataDirectory
\f2\fs22 \cf0 > element holds the path to the directory containing metadata of service providers. Make sure to specify a directory that is accessible by the web server (typically the Network Service account).\
\pard\pardeftab720\li720\fi-360\ri0\sl276\slmult1\sa200
\cf0 6.	Modify the 
\f3 Web.config
\f2  of the service provider, the 
\f3 WebsiteDemo
\f2  application. Two elements must be changed in the 
\f3 <SAML20Federation>
\f2  section:\
\pard\pardeftab720\li1440\ri0
\cf0 a.	The 
\f3 server
\f2  attribute must contain the base URL without sub-directories.(This setting will be used as the base for all URLs that are exposed to federation partners through metadata.) Change this to {\field{\*\fldinst{HYPERLINK "http://machinename/demo/Default.aspx"}}{\fldrslt 
\f3 \cf3 \ul \ulc3 http://<machinename>/}}\
b.	The <IDPEndPoints> element holds the path to the directory containing metadata of identity providers. Make sure to specify a directory that is accessible by the web server (typically the Network Service account).\
c.	Change the entity id to your demo IdP\'92s actual entity id:\
\pard\pardeftab720\li2880\fi720\ri0

\f3\fs20 \cf3 <\cf7 IDPEndPoints\cf3  \cf8 metadata\cf3 =\cf0 "\cf3 C:\\metadata\\\cf0 "\cf3 >\
\pard\pardeftab720\li2160\ri0
\cf3 			<\cf7 add\cf3  \cf8 id\cf3 =\cf0 "\cf3 DemoIdPEntityId\cf0 "\cf3 >\
				<\cf7 CertificateValidation\cf3 >\
					<\cf7 add\cf3  \cf8 type\cf3 =\cf0 "\cf3 \'85\cf0 "\cf3 />\
				</\cf7 CertificateValidation\cf3 >\
			</\cf7 add\cf3 >\
\pard\pardeftab720\li2160\ri0\sl276\slmult1\sa200
\cf3 		</\cf7 IDPEndPoints\cf3 >\
\pard\pardeftab720\li720\ri0\sl276\slmult1\sa200

\f2\fs22 \cf0 You need to change the value \'93DemoIdPEntityId\'94 to the actual entity id of your demo IdP. You can see the correct entity id in the IdP\'92s control panel (Step 8 shows you how to get to the control panel).\
\pard\pardeftab720\ri0\sl276\slmult1\sa200
\cf0 The next step is to exchange metadata between the identity and service providers. \
\pard\pardeftab720\ri0
\cf0 7.	Go to the service provider website (http://<machinename>/demo/default.aspx), and download the metadata to a temporary location of your choice\
8.	Go to the identity provider control panel ({\field{\*\fldinst{HYPERLINK "http://machinename/demo/Default.aspx"}}{\fldrslt 
\f3 \cf3 \ul \ulc3 http://<machinename>/IdP/Control.aspx}}) and configure the running IdP\
\pard\pardeftab720\li1440\fi-360\ri0\sl276\slmult1\sa200
\cf0 a.	Chose the certificate to identify this identity provider. Chose the IdentityProvider certificate (CN=IdentityProvider, O=NITA, C=DK) in 
\i LocalMachine
\i0  and 
\i My
\i0  store.\
b.	Enter the URL for this identity provider. Avoid localhost or 127.0.0.1\
\pard\pardeftab720\li1080\ri0
\cf0 c.	Download the metadata and place it into the directory specified in step 6.b\
d.	Add the sample service provider by uploading the metadata just downloaded to the temporary\uc0\u8232    location used in step 7\
\pard\pardeftab720\ri0
\cf0 \
\
9Copy log4net.dll (found in the distribution of OIOSAML.net 1.5 ) to the bin directory of the demo service provider.\
\
\pard\pardeftab720\ri0\sl276\slmult1\sa200
\cf0 The Unit test and sample are now ready to run.\
\pard\pardeftab720\li576\fi-576\ri0\sl276\slmult1\sb200

\f1\b \cf5 5.2	
\fs26 \cf6 Running the Unit Test\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0\fs22 \cf0 \
The framework contains a number of automated tests that can be executed with NUnit 2.4 (or compatible software), and can be executed by loading the dk.nita.test.saml20.dll and/or dk.nita.test.saml20.ext.brs.dll into NUnit and executing the tests. Note that the tests are only included in the source distribution of OIOSAML.NET.\
\pard\pardeftab720\li576\fi-576\ri0\sl276\slmult1\sb200

\f1\b \cf5 5.3	
\fs26 \cf6 Demonstrating federation\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0\fs22 \cf0 \
\pard\pardeftab720\ri0
\cf0 1.	Access the sample service provider website (http://<machinename>/demo/Default.aspx) and click the link to \'93Go to My page\'94\
2.	If this is the first time in this session you access an area requiring login, you will need to authenticate with an appropriate identity provider \
3.	In the standard sample configuration you will be sent directly to authentication with the identity provider (see section 7.2 for a set of valid usernames and passwords). If more than one known identity provider is available, you will be asked to choose which identity provider to authenticate with.\
4.	After authentication you will be redirected to \'93My page\'94 of the service provider, which shows a list of the attributes that were issued about the user by the identity provider \
\pard\pardeftab720\li1440\ri0\sl276\slmult1\sa200

\i \cf0 Note
\i0 : This authentication is communicated back to the service provider by a freshly issued 
\i SAML Assertion
\i0  which carries information about the user, as well as being signed and therefore impossible to tamper with.\
\pard\pardeftab720\li720\fi-360\ri0\sl276\slmult1\sa200
\cf0 5.	Clicking \'93Logout\'94 will terminate the user\'92s session and initiate the logout conversation between the service provider(s) and the identity provider.\
\pard\pardeftab720\ri0\sl276\slmult1\sa200
\cf0 To illustrate the dependence on correctly configured and always valid and not revoked certificates try to change the certificate of the service provider or the identity provider after exchanging metadata. This will cause messages between the federation partners to be rejected due to invalid signatures.\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f0\b \cf5 \page \
\pard\pardeftab720\li576\fi-576\ri0\sl276\slmult1\sb200

\f1 \cf5 5.4	
\fs26 \cf6 Demonstrating IdP Discovery using Common Domain Cookie\
\pard\pardeftab720\ri0

\f2\b0\fs22 \cf0 This section illustrates how to perform IdP Discovery as describe in the SAML Identity Provider Discovery Profile by enabling the Common Domain Cookie approach in the Federation. Note that IdP Discovery is only relevant when multiple IdPs are present in the same federation.\
\
The setup explained in this section corresponds to the configuration illustrated in the first figure in chapter 11, which consists of two Service Providers and two Identity Providers. It is assumed that the certificates are already installed as explained in section 5.1.\
\
\pard\pardeftab720\li720\fi-720\ri0\sl276\slmult1\sb200

\f1\b \cf6 5.4.1	Preparation\
\pard\pardeftab720\li720\fi-360\ri0
\ls2\ilvl0
\f2\b0 \cf0 1.	Create the directory \'94
\f3 C:\\inetpub\\cdctest
\f2 \'94.\
2.	Copy the \'93
\f3 dk.nita.saml20\\WebsiteDemo
\f2 \'94 and \'93
\f3 dk.nita.saml20\\IdentityProviderDemo
\f2 \'94 directories to the \'93
\f3 C:\\inetpub\\cdctest
\f2 \'94 directory.\
3.	Rename the \'93
\f3 WebsiteDemo
\f2 \'94 folder to \'93
\f3 sp1
\f2 \'94 and the \'93
\f3 IdentityProviderDemo
\f2 \'94 folder to \'93
\f3 idp
\f2 \'94.\
4.	Make a copy of the \'93
\f3 sp1
\f2 \'94 folder and name the new copy \'93
\f3 sp2
\f2 \'94.\
5.	Open the IIS Manager and add three new 
\i Sites
\i0 :\
\pard\pardeftab720\li1440\fi-360\ri0
\ls2\ilvl1\cf0 a.	One named 
\f3 demosp1
\f2  that points to Service Provider 1, the 
\f3 sp1
\f2  directory.\
b.	One named 
\f3 demosp2
\f2  that points to Service Provider 2, the 
\f3 sp2
\f2  directory.\
c.	And finally one named 
\f3 demoidp
\f2  pointing to the Identity Provider, the 
\f3 idp
\f2  directory.\
\pard\pardeftab720\li720\fi-360\ri0
\ls2\ilvl1\cf0 6.	In the IIS Manager edit the bindings for the three sites:\
\pard\pardeftab720\li1440\fi-360\ri0
\ls2\ilvl1\cf0 a.	For Service Provider 1:\uc0\u8232 Add the entries:		demosp1.commondomain.local\u8232  			demosp1.local  \
b.	For Service Provider 2:\uc0\u8232 Add the entries:		demosp2.commondomain.local \u8232  			demosp2.local\
c.	Identity Provider:\
\pard\pardeftab720\li720\fi720\ri0
\cf0 Add the entry:		commondomain.local \uc0\u8232 (Note that the Identity Provider must be located on the domain corresponding to the common domain. This is not a requirement for Identity Providers in general, but is the only way to make it work with the Demo IdP.\
\pard\pardeftab720\li720\fi-360\ri0
\ls3\ilvl1\cf0 7.	Add the following entries to the hosts file (C:\\Windows\\System32\\drivers\\etc\\hosts):\uc0\u8232 \
\pard\pardeftab720\li2160\fi720\ri0

\f3 \cf0 127.0.0.1	commondomain.local\
127.0.0.1	demosp1.commondomain.local\
127.0.0.1	demosp2.commondomain.local\
127.0.0.1	demosp1.local\
127.0.0.1	demosp2.local
\f2 \uc0\u8232 \
\pard\pardeftab720\li720\fi-360\ri0\sl276\slmult1\sa200
\ls4\ilvl1\cf0 8.	Modify the Web.config of the identity provider, the 
\f3 idp
\f2  application. One app setting must be changed:\
\pard\pardeftab720\li1440\fi-360\ri0\sl276\slmult1\sa200
\ls4\ilvl1\cf0 a.	The <
\f3\fs20 \cf3 IDPDataDirectory
\f2\fs22 \cf0 > element holds the path to the directory containing metadata of service providers. Make sure to specify a directory that is accessible by the web server (typically the Network Service account).\uc0\u8232 \
\pard\pardeftab720\li720\fi-360\ri0
\ls4\ilvl1\cf0 9.	Add a new file, cdcreader.ashx, to each of the two Service Providers, sp1 and sp2\
\pard\pardeftab720\li1440\fi-360\ri0
\ls4\ilvl1\cf0 a.	Put the following into each cdcreader.ashx file: \uc0\u8232 
\f3\fs20 <%\cf3 @\cf0  \cf7 WebHandler\cf0  \cf8 Class\cf3 ="dk.nita.saml20.protocol.Saml20CDCReader"\cf0  %>
\f2\fs22 \
\pard\pardeftab720\li720\fi-360\ri0
\ls4\ilvl1\cf0 10.	Modify the Web.config files of the two Service Providers, the sp1 and sp2 applications:\
\pard\pardeftab720\li1440\fi-360\ri0
\ls4\ilvl1\cf0 a.	Two elements in the <SAML20Federation> section must be changed:\
\pard\pardeftab720\li2160\fi-180\ri0
\ls4\ilvl2\cf0 i.	The id attribute of the <ServiceProvider> element must be changed to something unique for each service provider, eg. {\field{\*\fldinst{HYPERLINK "http://sp1.example.net"}}{\fldrslt \cf3 \ul \ulc3 http://sp1.example.net}} and {\field{\*\fldinst{HYPERLINK "http://sp2.example.net"}}{\fldrslt \cf3 \ul \ulc3 http://sp2.example.net}}\
ii.	The server attribute of the <ServiceProvider> element should be changed to {\field{\*\fldinst{HYPERLINK "http://demospX.local"}}{\fldrslt \cf3 \ul \ulc3 http://demospX.local}} \'96 where X is either 1 or 2 depending on the Service Provider.\
iii.	The <
\f3 IDPEndPoints
\f2 > element holds the path to the directory containing metadata of Identity Providers. Make sure to specify a directory that is accessible by the web server (typically the Network Service account).\
iv.	In order to demonstrate the Common Domain Cookie, add a dummy Identity Provider like so:\uc0\u8232 \
\pard\pardeftab720\li2880\ri0

\f3\fs16 \cf0 <IDPEndPoints metadata="C:\\inetpub\\cdctest\\sp1\\metadata\\">\
      <add id="DemoIdPEntityId">\
        <CertificateValidation>\
          <add type="dk.nita.saml20.Specification.SelfIssuedCertificateSpecification, dk.nita.saml20"/>\
        </CertificateValidation>\
      </add>\
	  <add id="dummy"></add>\
    </IDPEndPoints>\
\pard\pardeftab720\li2880\ri0

\fs22 \cf0 \
\pard\pardeftab720\li2160\ri0

\f2 \cf0 You need to change the \'93
\f3 DemoIdPEntityId
\f2 \'94 to the actual entity id of your demo IdP.\
\pard\pardeftab720\li1440\fi720\ri0
\cf0 You can see the correct entity id in the IdP\'92s control panel.\
\pard\pardeftab720\li1440\fi-360\ri0
\ls5\ilvl1\cf0 b.	Change the six places where it says \'93/demo/\'85\'94 to ust \'93/\'94\
c.	Reading of the Common Domain Cookie can be enabled by adding the <
\f3 CommonDomain
\f2 > element to the <
\f3 SAML20Federation
\f2 > element:\uc0\u8232 \
\pard\pardeftab720\li2160\ri0

\f3 \cf0 <CommonDomain enabled="true" localReaderEndpoint="http://demosp
\f5\b \ul X
\f3\b0 \ulnone .commondomain.local/cdcreader.ashx" /> 
\f2  (where 
\b \ul X
\b0 \ulnone  is either 1 or 2)\uc0\u8232 \
\pard\pardeftab720\li1440\fi-360\ri0
\ls6\ilvl1\cf0 d.	Change the <Federation> section to included to <Audience> tags containing the id\'92s of the two service providers (the id attributes from the <ServiceProvider> elements mentioned above.)\
\pard\pardeftab720\li720\fi-360\ri0
\ls6\ilvl1\cf0 11.	The next step is to exchange metadata between the Identity and Service Providers:\
\pard\pardeftab720\li1440\fi-360\ri0
\ls6\ilvl1\cf0 a.	Go to the Service Provider 1\'92s website ({\field{\*\fldinst{HYPERLINK "http://demosp1.local/default.aspx"}}{\fldrslt \cf3 \ul \ulc3 http://demosp1.local/default.aspx}} ), and download the metadata to a temporary location of your choice.\
b.	Repeat the previous step for Service Provider 2.\
c.	Go to the Identity Provider\'92s control panel ({\field{\*\fldinst{HYPERLINK "http://demoidp/Control.aspx"}}{\fldrslt \cf3 \ul \ulc3 http://demoidp/Control.aspx}} ) and configure the running IdP:\
\pard\pardeftab720\li2160\fi-180\ri0\sl276\slmult1\sa200
\ls6\ilvl2\cf0 i.	Chose the certificate to identify this identity provider. Chose the IdentityProvider certificate (CN=IdentityProvider, O=NITA, C=DK) in 
\i LocalMachine
\i0  and 
\i My
\i0  store.\
ii.	Enter the URL for this identity provider. Normally the default will be OK, but avoid localhost or 127.0.0.1\
iii.	Download the metadata and place it into the directory (specified in 9.a.iii \'96 \'93
\f3 C:\\inetpub\\cdctest\\sp1\\metadata\\\'94.
\f2 \
\pard\pardeftab720\li1440\fi-360\ri0
\ls6\ilvl1\cf0 d.	Add the two Service Providers by uploading their metadata, which was download to the temporary locations used in steps 10.a and 10.b.\
\pard\pardeftab720\ri0

\f0 \cf0 \
\pard\pardeftab720\li720\ri0
\cf0 \
\pard\pardeftab720\li720\fi-720\ri0\sl276\slmult1\sb200

\f1\b \cf6 5.4.2	Demonstration\
\pard\pardeftab720\li720\ri0

\f2\b0 \cf0 \
\pard\pardeftab720\li720\fi-360\ri0
\ls7\ilvl1\cf0 1.	Access Service Provider 1\'92s website ({\field{\*\fldinst{HYPERLINK "http://demosp1.local/Default.aspx"}}{\fldrslt \cf3 \ul \ulc3 http://demosp1.local/Default.aspx}} ) and click \'93Go to My page\'94\
2.	Select which Identity Provider to authenticate the user from the list of Identity Providers. Notice the dummy Identity Provider which cannot be selected, since it is not needed in order to demonstrate the Common Domain Cookie proof of concept.\
3.	Login as the user \'93Lene1\'94 and password \'93Test1234\'94.\
4.	Access Service Provider 2\'92s website ({\field{\*\fldinst{HYPERLINK "http://demosp2.local/Default.aspx"}}{\fldrslt \cf3 \ul \ulc3 http://demosp2.local/Default.aspx}} ) and click \'93Go to My page\'94\
5.	Notice that the user is not asked to login again, since he has already been authenticated.\
\pard\pardeftab720\li720\fi-360\ri0\sl276\slmult1\sa200
\ls7\ilvl1\cf0 6.	Clicking \'93Logout\'94 will terminate the user\'92s session.\
\pard\pardeftab720\li576\fi-576\ri0\sl276\slmult1\sb200

\f0\b \cf5 \
\pard\pardeftab720\li576\fi-576\ri0\sl276\slmult1\sb200

\f1 \cf5 5.5	
\fs26 \cf6 Demonstration of IDP selection when multiple IDP\'92s are available\
\pard\pardeftab720\ri0

\f0\b0\fs24 \cf0 \
\pard\pardeftab720\ri0

\f2\fs22 \cf0 In case more than one IDP has been configured in the IDPEndPoints collection, and no Common Domain Cookie has yet been set, it is possible to select authorization IDP in 3 ways:\
\pard\pardeftab720\li720\fi-360\ri0
\ls8\ilvl1\cf0 1.	By setting a default IDP in the SAML20Federation configuration section (see section 5.5.1)\
2.	In the SAML20Federation configuration section, by specifying a URL on the website that lets the user select IDP (see section 5.5.2)\
3.	By implementing a .NET event handler that returns the IDPEndpoint to use (see section 5.5.3)\
\pard\pardeftab720\ri0
\cf0 \
The list above is ordered, that is, in case a default is configured (method no. 1), use of the methods no. 2 and 3 are ignored by OIOSAML.NET. In the samples below it is therefore important to remove changes done to the configuration file in the previous example.\
\pard\pardeftab720\li720\fi-720\ri0\sl276\slmult1\sb200

\f1\b \cf6 5.5
\f0 .
\f1 1
\f0 	
\f1 Using the \'93default\'94 attribute
\f0 \
\pard\pardeftab720\ri0

\f2\b0 \cf0 \
\pard\pardeftab720\li720\fi-360\ri0
\ls9\ilvl1\cf0 1.	In the example above, modify the Web.config by adding a 
\f3 default=\'94true\'94
\f2  attribute to the 
\f3 <add\'85>
\f2  element for the Idp: 
\f3 <add id="http://commondomain.local/" default="true">
\f0\fs24 \
\ls9\ilvl1
\f2\fs22 2.	Restart the browser to make sure the common domain cookie is removed\
3.	Access Service Provider 1\'92s website ({\field{\*\fldinst{HYPERLINK "http://demosp1.local/Default.aspx"}}{\fldrslt \cf3 \ul \ulc3 http://demosp1.local/Default.aspx}} ) and click \'93Go to My page\'94\
4.	Notice that the user is not prompted, which IDP to use, since he is immediately redirected to the default IDP.\
\pard\pardeftab720\ri0
\cf0 \
\pard\pardeftab720\li720\fi-720\ri0\sl276\slmult1\sb200

\f1\b \cf6 5.5
\f0 .
\f1 2
\f0 	
\f1 Using the \'93idpSelectionUrl\'94 attribute\
\pard\pardeftab720\ri0

\f0\b0\fs24 \cf0 \
\pard\pardeftab720\ri0

\f2\fs22 \cf0 With this method, the developer can specify a page that the user should be redirected to, in case multiple IDP\'92s are available:\
\pard\pardeftab720\li720\fi-360\ri0
\ls10\ilvl1\cf0 1.	In case you modified the Web.config as explained in 5.5.1, remove the 
\f3 default=\'94true\'94
\f1  
\f0\fs24 \
\ls10\ilvl1
\f2\fs22 2.	In the <IDPEndPoints> element, add the idpSelectionUrl and value, so the element looks like this:\uc0\u8232 
\f3 <IDPEndPoints metadata="C:\\inetpub\\cdctest\\sp1\\metadata\\" idpSelectionUrl="/IDPSelectionDemo.aspx">
\f0\fs24 \
\ls10\ilvl1
\f2\fs22 3.	Restart the browser to make sure the common domain cookie is removed\
4.	Access Service Provider 1\'92s website ({\field{\*\fldinst{HYPERLINK "http://demosp1.local/Default.aspx"}}{\fldrslt \cf3 \ul \ulc3 http://demosp1.local/Default.aspx}} ) and click \'93Go to My page\'94\
5.	Notice that the browser opens a web-page from the WebsiteDemo project (IDPSelectionDemo.aspx), and not the default IDP selection list from the OIOSAML.NET framework. IDPSelectionDemo.aspx is just a sample of, how a page could look like. The styling and contents is completely defined by the web-developer. The only thing to remember is, that the link, that the user clicks, points to the URL returned by the 
\f3 GetIDPLoginUrl()
\f2  method on the 
\f3 dk.nita.saml20.config.IDPEndPoint 
\f2 class. See IDPSelectionDemo.aspx.cs for an example.\
\pard\pardeftab720\ri0
\cf0 \
\pard\pardeftab720\li720\fi-720\ri0\sl276\slmult1\sb200

\f1\b \cf6 5.5
\f0 .
\f1 3
\f0 	
\f1 Using the IDPSelectionEvent\
\pard\pardeftab720\ri0

\f0\b0\fs24 \cf0 \
\pard\pardeftab720\ri0

\f2 \cf0 The third method for selecting an IDP end point is done programmatically by using a .NET event:\
\
\pard\pardeftab720\li720\fi-360\ri0
\ls11\ilvl1
\fs22 \cf0 1.	In case you modified the Web.config as explained in 5.5.1, remove the attribute 
\f3 default=\'94true\'94
\f1  
\f0\fs24 \
\ls11\ilvl1
\f2\fs22 2.	In case you modified the Web.config as explained in 5.5.2, remove the attribute 
\f3 idpSelectionUrl="/IDPSelectionDemo.aspx"
\f0\fs24 \
\pard\pardeftab720\li720\fi-360\ri0
\ls11\ilvl1
\f2 \cf0 3.	See an example of a IDPSelectionEvent handler in Global.asax.cs, named 
\f3\fs20 _idpSelectionEventHandler. 
\f2\fs22 To use this handler add this line to 
\f3\fs20 Application_Start
\f2\fs22  (in 
\fs24 Global.asax.cs)
\fs22 :\uc0\u8232 \u8232 
\f3\fs20 IDPSelectionUtil.IDPSelectionEvent += _idpSelectionEventHandler;\uc0\u8232 
\f0\fs24 \
\pard\pardeftab720\li720\fi-360\ri0
\ls11\ilvl1
\f2\fs22 \cf0 4.	Since we are professional developers, always remembering to clean up, dispose etc. in our code (!) , add this line to Application_End (in Global.asax.cs):\uc0\u8232 \u8232 
\f3\fs20 IDPSelectionUtil.IDPSelectionEvent -= _idpSelectionEventHandler;\uc0\u8232 
\f2\fs22 \
5.	Restart the browser to make sure the common domain cookie is removed\
6.	Access Service Provider 1\'92s website ({\field{\*\fldinst{HYPERLINK "http://demosp1.local/Default.aspx"}}{\fldrslt \cf3 \ul \ulc3 http://demosp1.local/Default.aspx}} ) and click \'93Go to My page\'94\
7.	Notice that the user is not prompted, which IDP to use, since he is immediately redirected to the IDP chosen by the event handler.\
\pard\pardeftab720\ri0

\f0\fs24 \cf0 \page \
\pard\pardeftab720\li432\fi-432\ri0\sl276\slmult1\sb480

\f1\b\fs28 \cf4 6	Using the framework \
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0\fs22 \cf0 To develop a new web site using the framework you may follow the procedure below for getting up and running.  This procedure serves only as a guide as your environment may differ from what is described below.\
Also described are the steps to work with real identity providers and how to set up more than one service provider.\
\pard\pardeftab720\li576\fi-576\ri0\sl276\slmult1\sb200

\f1\b \cf5 6.1	
\fs26 \cf6 Creating your own service provider web site\
\pard\pardeftab720\li720\fi-360\ri0\sl276\slmult1\sa200

\f2\b0\fs22 \cf0 1.	Create a new web project in Visual Studio.\
2.	In the solution, include the Saml2 project containing the framework (may be left out if you keep a compiled version of the framework for reference)\
3.	Add a reference to the Saml2 project (or, if working with a compiled version, add a reference to the dk.nita.saml20 assembly, dk.nita.saml20.dll)\
4.	Create three ASP.NET handlers (ashx files) each with the content as illustrated below:\
\pard\pardeftab720\li1440\fi-360\ri0\sl276\slmult1\sa200

\f3 \cf0 o	
\f2 login.ashx (Your choice of name, but note it down as you will reference it later)\
\pard\pardeftab720\li1800\ri0\sl276\slmult1\sa200

\f3\fs20 \cf0 <%\cf3 @\cf0  \cf7 WebHandler\cf0  \cf8 Class\cf3 ="dk.nita.saml20.protocol.Saml20SignonHandler"\cf0  %>
\f2\fs22 \
\pard\pardeftab720\li1440\fi-360\ri0\sl276\slmult1\sa200

\f3\fs20 \cf0 o	logout.ashx 
\f2\fs22 (Your choice of name, but note it down as you will reference it later)\
\pard\pardeftab720\li1800\ri0\sl276\slmult1\sa200

\f3\fs20 \cf0 <%\cf3 @\cf0  \cf7 WebHandler\cf0  \cf8 Class\cf3 ="dk.nita.saml20.protocol.Saml20LogoutHandler"\cf0  %>
\f2\fs22 \
\pard\pardeftab720\li1440\fi-360\ri0\sl276\slmult1\sa200

\f3\fs20 \cf0 o	metadata.ashx 
\f2\fs22 (Your choice of name, but note it down as you will reference it later)\
\pard\pardeftab720\li1800\ri0\sl276\slmult1\sa200

\f3\fs20 \cf0 <%\cf3 @\cf0  \cf7 WebHandler\cf0  \cf8 Class\cf3 ="dk.nita.saml20.protocol.Saml20MetadataHandler"\cf0  %>
\f2\fs22 \
\pard\pardeftab720\li720\fi-360\ri0\sl276\slmult1\sa200
\cf0 5.	Modify Web.config (add a web.config file if not already there):\
\pard\pardeftab720\li1440\fi-360\ri0\sl276\slmult1\sa200

\f3 \cf0 o	
\f2 In the configSections section, add two additional sections:\
\pard\pardeftab720\li2552\fi-1112\ri0

\f3\fs20 \cf3 <\cf7 section\cf3  \cf8 name\cf3 =\cf0 "\cf3 Federation\cf0 "\cf3  \cf8 type\cf3 =\cf0 "\cf3 dk.nita.saml20.config.ConfigurationReader, dk.nita.saml20\cf0 "\cf3  />\
<\cf7 section\cf3  \cf8 name\cf3 =\cf0 "\cf3 SAML20Federation\cf0 "\cf3  \cf8 type\cf3 =\cf0 "\cf3 dk.nita.saml20.config.ConfigurationReader, dk.nita.saml20\cf0 "\cf3 />\
\pard\pardeftab720\li1440\fi-360\ri0\sl276\slmult1\sa200

\fs22 \cf0 o	
\f2 In the system.web section, add/change the authentication element:\
\pard\pardeftab720\li720\ri0

\f3\fs20 \cf3 	<\cf7 authentication\cf3  \cf8 mode\cf3 =\cf0 "\cf3 Forms\cf0 "\cf3 >\
		<\cf7 forms\cf3  \cf8 cookieless\cf3 =\cf0 "\cf3 UseCookies\cf0 "\cf3  \
\pard\pardeftab720\li2160\fi360\ri0
\cf8 loginUrl\cf3 =\cf0 "\cf3 <YOUR LOGIN HANDLER AS NAMED ABOVE>\cf0 "\cf3  \
\cf8 name\cf3 =\cf0 "\cf3 <YOUR COOKIE NAME>\cf0 "\cf3   />\
\pard\pardeftab720\li720\ri0
\cf3 	</\cf7 authentication\cf3 >\
\pard\pardeftab720\li1440\fi-360\ri0\sl276\slmult1\sa200

\fs22 \cf0 o	
\f2 To describe which parts of the application are protected by forms authentication, you must use the ASP.NET location tag (see the sample for an example of this).  The reason for this is that you need unauthenticated access to not only the login.ashx handler, but also the metadata.ashx handler.\
\pard\pardeftab720\ri0

\f3 \cf0 o	
\f2 For fastest results, copy from the sample service provider, WebSiteDemo, the 
\f3\fs20 Federation\cf7  
\f2\fs22 \cf0 section and modify to your application. Refer to the reference in section 10.1 for details on each element.\
\pard\pardeftab720\li2160\fi-360\ri0\sl276\slmult1\sa200

\f6 \cf0 \uc0\u9827 
\f7 	
\f2\i Note that to configure this element for a real world application, you will need your own certificate configured correctly for access by the web server.\

\f6\i0 \uc0\u9827 
\f7 	
\f2\i Note that the 
\i0 AllowedAudiencesUris
\i  element must be set to match the 
\i0 Id of the service provider in the 
\f3\fs20 SAML20Federation
\f2\fs22  as described below
\i \
\pard\pardeftab720\ri0

\f3\i0 \cf0 o	
\f2 For fastest results, copy from the sample service provider, WebSiteDemo, the 
\f3\fs20 SAML20Federation\cf7  
\f2\fs22 \cf0 section and modify to your application. Refer to the reference in section 10.2 for details on each element.\
\pard\pardeftab720\li2160\fi-360\ri0\sl276\slmult1\sa200

\f6 \cf0 \uc0\u9827 
\f7 	
\f2\i Note that the 
\i0 Id attribute must be unique and match the audience requirements of the  
\f3\fs20 Federation
\f2\fs22  section (see previous point)
\i \

\f6\i0 \uc0\u9827 
\f7 	
\f2\i Note that for the signon service endpoint you do not have to set a redirect URL.  If you want the user to be able to directly access any part of your application, and authentication on the way if necessary, remove this redirectUrl attribute.
\i0 	
\i \

\f6\i0 \uc0\u9827 
\f7 	
\f2\i Note the IdPEndPoints element which must point to a valid directory\
\pard\pardeftab720\li720\fi-360\ri0\sl276\slmult1\sa200

\i0 \cf0 6.	Download the metadata of your application from the endpoint specified in the SAML20Federation element as described above (e.g. https://hostname/MyApp/metadata.ashx). These metadata must be given to the identity provider(s) of your choice.\
7.	Install the metadata of your identity provider(s) in the directory specified in the 
\f3\fs20 Saml20Federation
\f2\fs22  section\
8.	That\'92s it. Now try it out with the sample identity provider and finally integrate with a third party identity provider
\b \
\pard\pardeftab720\li576\fi-576\ri0\sl276\slmult1\sb200

\f1 \cf5 6.2	
\fs26 \cf6 Working with real third party Identity Providers\
\pard\pardeftab720\ri0

\f2\b0\fs22 \cf0 9.	Download the service provider metadata as exported by the metadata endpoint supported by the framework (see section 10.2.1)\
10.	Send the metadata to the relevant identity provider(s)\
11.	Get the corresponding metadata from the identity provider(s). These metadata must be stored in the designated directory as specified by the IDPEndpoints configuration element (see section 10.2.3).\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f0\b \cf5 \page \
\pard\pardeftab720\li576\fi-576\ri0\sl276\slmult1\sb200

\f1 \cf5 6.3	
\fs26 \cf6 Setting up more than one service provider\
\pard\pardeftab720\li720\fi-360\ri0\sl276\slmult1\sa200

\f2\b0\fs22 \cf0 1.	The simplest way is to just copy the sample service provider, WebsiteDemo, or to go ahead and build a custom web site and subsequently enable federation through this framework.\
2.	No matter how this is done, setting up more than one service provider, you must be sure to set authentication cookie names to different values across machine and domain:\
\pard\pardeftab720\li1440\fi-360\ri720\sa120

\b \cf0 a.	Important note regarding cookies\
\pard\pardeftab720\li1440\fi-360\ri720\sa120

\b0 \cf0 b.	It is important to specify different names for the browser cookies used by each website if more than one of the service provider is installed on the same host. \
c.	Cookie names are configured in 
\f3 web.config
\f2  using the 
\f3 name
\f2  attribute of the 
\f3 <forms>
\f2  element, and the 
\f3 cookieName
\f2  attribute of the 
\f3 <sessionState>
\f2  element. Both configuration options are elaborated in the ASP.NET reference documentation.\
\pard\pardeftab720\li720\fi-360\ri0\sl276\slmult1\sa200
\cf0 3.	For each service provider added to the federation they must register their metadata with the identity provider\
\pard\pardeftab720\ri0\sl276\slmult1\sa200
\cf0 \
Once more than one service provider is available, you should notice that the user will not be re-authenticated when logging in at the second service provider. \
\page \
\pard\pardeftab720\li432\fi-432\ri0\sl276\slmult1\sb480

\f1\b\fs28 \cf4 7	Components\
\pard\pardeftab720\ri0

\f0\b0\fs24 \cf0 \
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\fs22 \cf0 This chapter provides a description of each component in the distribution.\
\pard\pardeftab720\li576\fi-576\ri0\sl276\slmult1\sb200

\f1\b \cf5 7.1	
\fs26 \cf6 SAML 2.0 framework\
\pard\pardeftab720\ri0

\f2\b0\fs22 \cf0 The SAML 2.0 framework is the main component of this distribution. Chapter 9 is a reference of the framework\'92s configuration parameters, while chapter 11 is an API reference detailing the classes that are required for an application to use the framework.\
\pard\pardeftab720\li576\fi-576\ri0\sl276\slmult1\sb200

\f1\b \cf5 7.2	
\fs26 \cf6 Demonstration identity provider\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0\fs22 \cf0 The demonstration identity provider is included so that it is not required for a development environment to have a fully configured identity provider to test out basic federation. \
The demonstration identity provider has the following features\
\pard\pardeftab720\li720\fi-360\ri0\sl276\slmult1\sa200

\f4 \cf0 \'a5	
\f2 Accepts authentication requests using HTTP-REDIRECT.\

\f4 \'a5	
\f2 Issues authentication responses using HTTP-POST.\

\f4 \'a5	
\f2 Logout requests and responses using HTTP-REDIRECT.\

\f4 \'a5	
\f2 Issues and consumes metadata.\

\f4 \'a5	
\f2 Handles authentication and logout of user sessions across several service providers.\

\f4 \'a5	
\f2 Validates signatures.\
\pard\pardeftab720\ri0\sl276\slmult1\sa200
\cf0 The demonstration identity provider uses the SAML 2.0 Framework and is primarily meant as a companion to the demonstration service provider in order to deliver an easily created environment in which to get acquainted with the framework. It should not be used as a permanent substitute for at real identity provider in a development environment.\uc0\u8232 \
\page \
The users, passwords and issued attributes can be set-up in the web.config of the DemoIdP as shown in the example below:\
\pard\pardeftab720\ri0

\f3\fs20 \cf3 <\cf7 configSections\cf3 >\
    <\cf7 section\cf3   \cf8 name\cf3 =\cf0 "\cf3 demoIdp\cf0 "\cf3  \cf8 type\cf3 =\cf0 "\cf3 IdentityProviderDemo.Logic.DemoIdPConfigurationSection\cf0 "\cf3 />\
  </\cf7 configSections\cf3 >\
  <\cf7 demoIdp\cf3 >\
    <\cf7 users\cf3 >\
      <\cf7 add\cf3  \cf8 userName\cf3 =\cf0 "\cf3 Lene\cf0 "\cf3  \cf8 password\cf3  =\cf0 "\cf3 Test1234\cf0 "\cf3  \cf8 ppid\cf3 =\cf0 "\cf3 PPID-FDFFE8F1-D92C-4838-B46D-B3DD558E700E\cf0 "\cf3 >\
        <\cf7 attributes\cf3 >\
          <\cf7 add\cf3  \cf8 name\cf3 =\cf0 "\cf3 urn:FirstName\cf0 "\cf3  \cf8 value\cf3 =\cf0 "\cf3 Lene\cf0 "\cf3 />\
          <\cf7 add\cf3  \cf8 name\cf3 =\cf0 "\cf3 urn:LastName\cf0 "\cf3  \cf8 value\cf3 =\cf0 "\cf3 Hansen\cf0 "\cf3 />\
          <\cf7 add\cf3  \cf8 name\cf3 =\cf0 "\cf3 urn:Age\cf0 "\cf3  \cf8 value\cf3 =\cf0 "\cf3 32\cf0 "\cf3 />\
          <\cf7 add\cf3  \cf8 name\cf3 =\cf0 "\cf3 urn:oid:0.9.2342.19200300.100.1.3\cf0 "\cf3   \cf8 value\cf3 =\cf0 "\cf3 lene@company.dk\cf0 "\cf3 />\
          <\cf7 add\cf3  \cf8 name\cf3 =\cf0 "\cf3 urn:dk:company:attribute:Role\cf0 "\cf3    \cf8 value\cf3 =\cf0 "\cf3 Medarbejder\cf0 "\cf3 />\
          <\cf7 add\cf3  \cf8 name\cf3 =\cf0 "\cf3 urn:dk:company:attribute:Role\cf0 "\cf3    \cf8 value\cf3 =\cf0 "\cf3 Udvikler\cf0 "\cf3 />\
        </\cf7 attributes\cf3 >\
      </\cf7 add\cf3 >\
      <\cf7 add\cf3  \cf8 userName\cf3 =\cf0 "\cf3 \'c5ge\cf0 "\cf3  \cf8 password\cf3  =\cf0 "\cf3 Test1234\cf0 "\cf3  \cf8 ppid\cf3 =\cf0 "\cf3 PPID-7CDE9A20-8A40-429a-A390-FFAB7DF84DF3\cf0 "\cf3 >\
        <\cf7 attributes\cf3 >\
          <\cf7 add\cf3  \cf8 name\cf3 =\cf0 "\cf3 urn:FirstName\cf0 "\cf3  \cf8 value\cf3 =\cf0 "\cf3 \'c5ge\cf0 "\cf3 />\
          <\cf7 add\cf3  \cf8 name\cf3 =\cf0 "\cf3 urn:LastName\cf0 "\cf3  \cf8 value\cf3 =\cf0 "\cf3 B\'f8rgesen\cf0 "\cf3 />\
          <\cf7 add\cf3  \cf8 name\cf3 =\cf0 "\cf3 urn:Age\cf0 "\cf3  \cf8 value\cf3 =\cf0 "\cf3 23\cf0 "\cf3 />\
          <\cf7 add\cf3  \cf8 name\cf3 =\cf0 "\cf3 urn:oid:0.9.2342.19200300.100.1.3\cf0 "\cf3   \cf8 value\cf3 =\cf0 "\cf3 \'c5ge@company.dk\cf0 "\cf3 />\
          <\cf7 add\cf3  \cf8 name\cf3 =\cf0 "\cf3 urn:dk:company:attribute:Role\cf0 "\cf3    \cf8 value\cf3 =\cf0 "\cf3 \'d8verste Chef\cf0 "\cf3 />\
        </\cf7 attributes\cf3 >\
      </\cf7 add\cf3 >\
    </\cf7 users\cf3 >\
\pard\pardeftab720\ri0\sl276\slmult1\sa200
\cf3   </\cf7 demoIdp\cf3 >
\f0\b\fs28 \cf4 \page \
\pard\pardeftab720\li432\fi-432\ri0\sl276\slmult1\sb480

\f1 \cf4 8	Certificate management\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0\fs22 \cf0 The certificates supplied and installed with the sample included in this framework, work nicely when being used by the person who installed the certificates, which is the case when e.g. running the NUnit tests supplied.\
When using the certificates of the sample, the account running the web site (NETWORK SERVICE by default) must be granted read access to the private keys. This will ensure that communication between the service provider and the identity provider may be signed correctly.\
The following procedure uses a small utility supplied in the distribution. With the tool and this procedure you may grant access to the private keys of the certificates as required by the web site setup.\uc0\u8232 \
\pard\pardeftab720\li720\fi-360\ri0\sl276\slmult1\sa200
\cf0 1.	Open a command prompt in the directory where the framework is installed (..\\bin or ..\\src).\
2.	Enter the following command: \uc0\u8232 
\f3    FindPrivateKey.exe LocalMachine My\uc0\u8232 
\f2 to  open the following dialog\uc0\u8232 \u8232 \
3.	Expand the \'91Issued To\'92 column, select the certificate you are going to use for the service provider (the supplied certificate read \'93ServiceProvider\'94) and click the OK button. \
4.	Next the dialog below appears. Go to the Security tab:\uc0\u8232 \
5.	If the relevant account (most often NETWORK SERVICE) is not already present click the \'93Add\'85\'94 button, and grant the account read access.\
6.	Before closing the above dialog, verify that the account is now present on the list. \
\pard\pardeftab720\ri0\sl276\slmult1\sa200
\cf0 \page \
\pard\pardeftab720\li432\fi-432\ri0\sl276\slmult1\sb480

\f1\b\fs28 \cf4 9	Configuration reference\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0\fs22 \cf0 All XML elements of this reference belong in the namespace \'91
\f3 urn:dk.nita.saml20.configuration
\f2 \'92, unless otherwise noted.\
\pard\pardeftab720\li576\fi-576\ri0\sl276\slmult1\sb200

\f1\b \cf5 9.1	
\fs26 \cf6 <Federation>\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0\fs22 \cf0 This element contains settings that are general to federation: i.e. the certificate and identifier of the machine in the federation.\
\pard\pardeftab720\li720\fi-720\ri0\sl276\slmult1\sb200

\f1\b \cf6 9.1.1	<SigningCertificate>\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0 \cf0 This element specifies the service provider\'92s certificate, which is used to verify the identity of the service provider to its service partners. The element\'92s attributes are listed in the following\

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrt\brdrs\brdrw10\brdrcf0 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth2065\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7643\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3 \cf0 x509FindType
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Specifies which certificate attribute that will be used to identify the service provider\'92s certificate. The documentation of the .net framework enumeration 
\f3 X509FindType
\f2  lists the possible values for this attribute.
\fs24 \

\fs22 A common way to locate a certificate is to search for its subject\'92s distinguished name or its thumbprint. The service provider will use the first certificate that matches the specified search criteria.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth2065\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7643\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 findValue
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 The value of the attribute that is used to identify the certificate, e.g. its subject or thumbprint. 
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth2065\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7643\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 storeLocation
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 The location of the certificate store to use. The documentation of the .net framework enumeration 
\f3 StoreLocation
\f2  lists the possible values for this attribute.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth2065\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7643\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 storeName
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Specifies which certificate store the certificate can be found in. The documentation of the .net framework enumeration 
\f3 StoreName
\f2  lists the possible values for this attribute.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrb\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth2065\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7643\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 validOnly
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Search only the valid certificates. An invalid or expired certificate may cause federation partners to reject communication, so enabling this option may give an early warning that a certificate should be replaced. Value should be either 
\f3 true
\f2  or 
\f3 false
\f2 .
\fs24 \cell \lastrow\row
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\fs22 \cf0 \
Most of the above values for a given certificate can be found using the \'91Certificates\'92 management application included with windows.\
\pard\pardeftab720\li720\fi-720\ri0\sl276\slmult1\sb200

\f1\b \cf6 9.1.2	<AllowedAudienceUris>\
\pard\pardeftab720\ri0

\f2\b0 \cf0 Assertions are issued to specific audiences. This ensures that an assertion cannot be used at a different service provider than the one that was intended by the identity provider. This configuration setting is a list of audiences that are allowed for assertions sent to the service provider. The list must at least contain the identifier of the service provider (See 10.2.1).\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f0\b \cf6 \page \
\pard\pardeftab720\li720\fi-720\ri0\sl276\slmult1\sb200

\f1 \cf6 9.1.3	<Actions>\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0 \cf0 The <Actions> element defines a list of actions that take place on the service provider side when an assertion is received from the IdP. The element is optional, and when not present , a default set of actions are performed.  Actions are performed in the sequence in which they are added. The default set of actions would look like this in the configuration file:\
\pard\pardeftab720\ri0

\f3\fs16 \cf3 <\cf7 Actions\cf3 >\
	<\cf7 add\cf3  \cf8 name\cf3 =\cf0 "\cf3 SetSamlPrincipal\cf0 "\cf3  \cf8 type\cf3 =\cf0 "\cf3 dk.nita.saml20.Actions.SamlPrincipalAction, dk.nita.saml20\cf0  "\cf3  />\
\pard\pardeftab720\fi720\ri0
\cf3 <\cf7 add\cf3  \cf8 name\cf3 =\cf0 "\cf3 Redirect\cf0 "\cf3  \cf8 type\cf3 =\cf0 "\cf3 dk.nita.saml20.Actions.RedirectAction, dk.nita.saml20\cf0 "\cf3  />\
\pard\pardeftab720\ri0\sl276\slmult1\sa200
\cf3 </\cf7 Actions\cf3 >\
\pard\pardeftab720\ri0

\f2\fs22 \cf0 A
\f3\fs16 \cf3  <\cf7 clear\cf3 /> 
\f2\fs22 \cf0 tag can be used to clear the list of actions, and a 
\f3\fs16 \cf3 <\cf7 remove\cf3 >
\f2\fs22 \cf0  tag can be used to remove a single action by name, eg.:
\f3\fs16 \cf3  <\cf7 remove\cf3  \cf8 name\cf3 =\cf0 "\cf3 SetSamlPrincipal\cf0 "\cf3 />. \
\

\f2\fs22 \cf0 It is possible to write your own custom actions to perform any task needed during login and logout. Your action must implement the 
\f3\fs20 dk.nita.saml20.Actions.IAction interface, and if you plan to make an action that performs a redirect you should note the following:
\fs16 \cf3 \
\pard\pardeftab720\li720\fi-360\ri0

\f2\fs22 \cf0 1)	A redirect must be the last action in the list, since redirecting ends the action pipeline.\
2)	Redirecting during logout should only be performed when the logout is NOT initiated by the IdP. If it is initiated by the IdP, a redirect action should do nothing. You will know whether or not the logout is IdP initiated by checking the Boolean parameter 
\f3\fs20 IdPInitiated 
\f2\fs22 of the
\f3\fs20  LogoutAction 
\f2\fs22 function of the
\f3\fs20  IAction 
\f2\fs22 interface
\f3\fs20 .
\f2\fs22 \
\pard\pardeftab720\ri0

\f3\fs20 \cf0 \
\pard\pardeftab720\ri0

\f2\fs22 \cf0 \
\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f0\b \cf5 \page \
\pard\pardeftab720\li576\fi-576\ri0\sl276\slmult1\sb200

\f1 \cf5 9.2	
\fs26 \cf6 <Saml20Federation>
\f5\fs16 \cf3 \
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0\fs22 \cf0 The 
\f3 <Saml20Federation>
\f2  element contains configuration options that are specific to the SAML 2.0 protocol. \
\pard\pardeftab720\li720\fi-720\ri0\sl276\slmult1\sb200

\f1\b \cf6 9.2.1	<ServiceProvider>\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0 \cf0 This element contains the following attributes\

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrt\brdrs\brdrw10\brdrcf0 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clmrg \clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0
\cf0 Attributes
\fs24 \cell 
\pard\intbl\itap1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth1188\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth8388\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 Id
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 The service provider\'92s identifier. This is often an URI signaling the domain of the service provider.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrb\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth1188\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth8388\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 server
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 The base URL of the host where the service provider resides. No sub-directories.
\fs24 \cell \lastrow\row
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\fs22 \cf0 \
The element must have the following child elements\

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrt\brdrs\brdrw10\brdrcf0 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth1728\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7848\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0
\cf0 Element name
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 ServiceEndpoint
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth1728\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7848\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Description
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Configures the HTTP endpoints used by the service provider to communicate with its federation partners. Each endpoint must correspond to a handler in the service provider website
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clmrg \clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Attributes
\fs24 \cell 
\pard\intbl\itap1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth1728\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7848\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 Type
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Determines the function of the endpoint. Must be one of the following
\fs24 \
\pard\intbl\itap1\pardeftab720\li720\fi-360\ri0

\f4\fs22 \cf0 \'a5	
\f3 signon
\f2\fs24 \

\f4\fs22 \'a5	
\f3 logout
\f2\fs24 \

\f4\fs22 \'a5	
\f3 metadata
\f2\fs24 \
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 The service provider must have one of each type of endpoint to function fully.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth1728\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7848\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 localpath
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 The address at which the endpoint is.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrb\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth1728\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7848\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 redirectUrl
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 The URL to which the user will be sent after the handler is done executing.
\fs24 \cell \lastrow\row
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\fs22 \cf0 \

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrt\brdrs\brdrw10\brdrcf0 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth1728\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7848\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0
\cf0 Element name
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 NameIdFormats
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth1728\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7848\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Description
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Lets you specify which NameIdFormats are supported by the service provider. 
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clmrg \clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Attributes
\fs24 \cell 
\pard\intbl\itap1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth1728\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7848\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 all
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 true/false
\fs24 \

\fs22 When true all known SAML NameIdFormats are supported, and when false only those explicitly added are supported. See example below.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clmrg \clvertalt \clshdrawnil \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Example
\fs24 \cell 
\pard\intbl\itap1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrb\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth1728\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7848\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3 \cf0 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs16 \cf3 <\cf7 NameIdFormats\cf3  \cf8 all\cf3 =\cf0 "\cf3 false\cf0 "\cf3 >\
  <\cf7 add\cf3  \cf8 nameIdFormat\cf3 =\cf0 "\cf3 urn:oasis:names:tc:SAML:1.1:nameid-    format:X509SubjectName\cf0 "\cf3 />\
</\cf7 NameIdFormats\cf3 >
\f2\fs24 \cf0 \cell \lastrow\row
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\fs22 \cf0 \
\page \
You should also include the following two elements, which are used when generating metadata, and are required by some IdP\'92s:\
\pard\pardeftab720\ri0

\f3\fs16 \cf3 <\cf7 md:ContactPerson\cf3  \cf8 contactType\cf3 =\cf0 "\cf3 administrative\cf0 "\cf3  \cf8 xmlns:md\cf3 =\cf0 "\cf3 urn:oasis:names:tc:SAML:2.0:metadata\cf0 "\cf3 >\
\pard\pardeftab720\fi720\ri0
\cf3 <\cf7 md:Company\cf3 >\cf0 Firma\cf3 </\cf7 md:Company\cf3 >\
\pard\pardeftab720\ri0
\cf3 	<\cf7 md:GivenName\cf3 >\cf0 Fornavn\cf3 </\cf7 md:GivenName\cf3 >\
	<\cf7 md:SurName\cf3 >\cf0 Efternavn\cf3 </\cf7 md:SurName\cf3 >\
	<\cf7 md:EmailAddress\cf3 >\cf0 email@firma.com\cf3 </\cf7 md:EmailAddress\cf3 >\
	<\cf7 md:TelephoneNumber\cf3 >\cf0 12345678\cf3 </\cf7 md:TelephoneNumber\cf3 >\
\pard\pardeftab720\ri0\sl276\slmult1\sa200
\cf3 </\cf7 md:ContactPerson\cf3 >
\f2 \cf0 \
\pard\pardeftab720\ri0

\f3 \cf3 <\cf7 md:Organization\cf3  \cf8 xmlns:md\cf3 =\cf0 "\cf3 urn:oasis:names:tc:SAML:2.0:metadata\cf0 "\cf3 >\
\pard\pardeftab720\fi720\ri0
\cf3 <\cf7 md:OrganizationName\cf3 >\cf0 Firma\cf3 </\cf7 md:OrganizationName\cf3 >\
\pard\pardeftab720\ri0
\cf3 	<\cf7 md:OrganizationDisplayName\cf3 >\cf0 Firmanavn\cf3 </\cf7 md:OrganizationDisplayName\cf3 >\
	<\cf7 md:OrganizationURL\cf3 >\cf0 http://www.firma.com\cf3 </\cf7 md:OrganizationURL\cf3 >\
\pard\pardeftab720\ri0\sl276\slmult1\sa200
\cf3 </\cf7 md:Organization\cf3 >
\f2 \cf0 \
\pard\pardeftab720\li720\fi-720\ri0\sl276\slmult1\sb200

\f1\b\fs22 \cf6 9.2.2	<CommonDomain>\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0 \cf0 The <CommonDomain> element contains configuration options for common domain cookie reading, and has the following attributes:\

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrt\brdrs\brdrw10\brdrcf0 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clmrg \clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0
\cf0 Attributes
\fs24 \cell 
\pard\intbl\itap1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth2725\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth6851\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 Enabled
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 A Boolean value indicating whether or not common domain cookie reading is turned on.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrb\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth2725\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth6851\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 localReaderEndpoint
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 The fully qualified url to a local cookie reader endpoint. The host part of this endpoint should be a sub domain to the common domain, e.g. sp.commondomain.com
\fs24 \cell \lastrow\row
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\fs22 \cf0 The following is an example of a CommonDomain section:\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f3\fs16 \cf3 <\cf7 CommonDomain\cf3  \cf8 enabled\cf3 =\cf0 "\cf3 true\cf0 "\cf3  \cf8 localReaderEndpoint\cf3 =\cf0 "\cf3 http://mysp.commondomain.local/cdcreader.ashx\cf0 "\cf3  />
\f2 \cf0 \
\pard\pardeftab720\ri0

\fs22 \cf0 Read more about how to configure common domain cookie reading in chapter 11.\
\pard\pardeftab720\li720\fi-720\ri0\sl276\slmult1\sb200

\f1\b \cf6 9.2.3	<RequestedAttributes>\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0 \cf0 This element names the SAML attributes that the service provider requires from its federation partners. \

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrt\brdrs\brdrw10\brdrcf0 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth1728\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7848\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0
\cf0 Element name
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 RequestedAttributes
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth1728\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7848\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Description
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 The list of attributes that the service provider wants assertions to contain when it receives them.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clmrg \clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Child elements
\fs24 \cell 
\pard\intbl\itap1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth1728\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7848\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Element name
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 att
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth1728\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7848\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Description
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Describes the required attribute.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clmrg \clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Attributes
\fs24 \cell 
\pard\intbl\itap1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth1728\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7848\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 Name
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 The SAML attribute\'92s identifier. Note that this attribute refers to the 
\f3 name
\f2  property of a SAML attribute, not the optional 
\f3 friendlyName
\f2  property that may be found in the identity provider\'92s metadata. 
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrb\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth1728\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7848\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 isRequired
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 An optional attribute that specifies whether the SAML attribute should be listed as \'91required\'92 in the service provider\'92s metadata. Further explanation of this attribute can be found in [Metadata] section 2.4.4.2.
\fs24 \cell \lastrow\row
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\fs22 \cf0 \
\pard\pardeftab720\li720\fi-720\ri0\sl276\slmult1\sb200

\f1\b \cf6 9.2.4	<IDPEndPoints>\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0 \cf0 The configuration in the 
\f3 <IDPEndPoints>
\f2  element determines how the service provider communicates with its federation partners. The minimal configuration specifies the directory in which metadata of the federation partners can be found, and uses the default SAML bindings for communication. \

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrt\brdrs\brdrw10\brdrcf0 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clmrg \clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0
\cf0 Attributes
\fs24 \cell 
\pard\intbl\itap1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth2235\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7341\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 metadata
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 The path to the directory where the metadata of the federation partners can be found. Make sure that the directory is readable by the user running the web server.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrb\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth2235\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7341\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 idpSelectionUrl\cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2 \cf0 URL for custom webpage that lets the user select from a list of available IDP\'92s. The attribute is used only when no common domain cookie is set, and no add-element (see below) has the default-property set to 
\f3 true
\f2 . In case no idpSelectionUrl is specified, a default IDPSelectionPage is displayed. See example of using this attribute in section 5.5.2.\cell \lastrow\row
\pard\pardeftab720\ri0\sl276\slmult1\sa200
\cf0 The 
\f3 <IDPEndPoints>
\f2  section can furthermore override the settings that are found in the metadata of a federation partner. This is useful for situations where the federation partner allows several ways of communicating and the default way is not desirable. \

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrt\brdrs\brdrw10\brdrcf0 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth3781\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5795\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0
\cf0 Element name
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 add
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth3781\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5795\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Description
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Enables configuration of which transport binding to use for communicating with a federation partner. Also makes it possible to override endpoint addresses and provide a user-readable name for the federation partner.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clmrg \clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Attributes
\fs24 \cell 
\pard\intbl\itap1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth3781\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5795\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 Id
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 The id of the federation partner to which this configuration pertains.  This id must have a match in one of the metadata files that are known by the service provider.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth3781\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5795\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 Name
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 An optional setting that contains a human-readable name for the federation partner. The name will replace the federation partner\'92s id, in cases where it is necessary to present the user with a choice of federation partners.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth3781\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5795\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 omitAssertionSignatureCheck
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Set this value to true if for some reason you do not wish the signature of the assertions from this IdP to be checked (for example if assertions are not signed).
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth3781\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5795\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 forceAuthn
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Force authentication on each authnrequest
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth3781\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5795\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 isPassive
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 AuthnRequests are passive
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth3781\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5795\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 default\cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2 \cf0 When set to true, this IdP will be used for authentication in case no Common Domain Cookie is set. If no IdP has 
\f3 default
\f2  set to 
\f3 true
\f2 , and more than one IdP is present in the IDPEndPoints collection, the user will be prompted to select from the list of IdP\'92s.\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clmrg \clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0
\cf0 Child elements
\fs24 \cell 
\pard\intbl\itap1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth3781\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5795\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Element name
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 SSO
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth3781\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5795\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Description
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Configuration of the Single sign on endpoint of the federation partner.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clmrg \clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Attributes
\fs24 \cell 
\pard\intbl\itap1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth3781\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5795\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 url
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 An optional parameter that contains the SSO endpoint\'92s URL. If this parameter is left out, the URL found in the federation partner\'92s metadata is used. Override this with care.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth3781\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5795\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 binding
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Specify which binding to use when sending an authentication request to the federation partner. If this attribute is left unspecified, and the federation partner allows it, the HTTP-REDIRECT binding will be used.
\fs24 \

\fs22 Allowed values are:  \'93
\f3 POST
\f2 \'94, \'93
\f3 REDIRECT
\f2 \'94 and \'93
\f3 ARTIFACT
\f2 \'94.
\fs24 \
\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth3781\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5795\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Element name
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 SLO
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth3781\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5795\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Description
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Configuration of the Single logout endpoint of the federation partner.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clmrg \clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Attributes
\fs24 \cell 
\pard\intbl\itap1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth3781\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5795\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 url
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 An optional parameter that contains the SLO endpoint\'92s URL. If this parameter is left out, the URL found in the federation partner\'92s metadata is used. Override this with care.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth3781\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5795\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 binding
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Specify which binding to use when sending a logout request to the federation partner. If this attribute is left unspecified, and the federation partner allows it, the HTTP-REDIRECT binding will be used.
\fs24 \

\fs22 Allowed values are:  \'93
\f3 POST
\f2 \'94, \'93
\f3 REDIRECT
\f2 \'94 and \'93
\f3 ARTIFACT
\f2 \'94.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth3781\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5795\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Element name
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 AttributeQuery
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth3781\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5795\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Description
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Lets you enable httpBaiscAuth with username and password for attribute queries
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth3781\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5795\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Example
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 <AttributeQuery enableHttpBasicAuth="true" username="username" password="p@assw0rd" />
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth3781\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5795\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Element name
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 ArtifactResolution
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth3781\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5795\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Description 
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Lets you enable httpBasicAuth with username and password for artifact resolution.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrb\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth3781\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5795\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Example
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 < ArtifactResolution enableHttpBasicAuth="true" username="username" password="p@assw0rd" />
\fs24 \cell \lastrow\row
\pard\pardeftab720\li432\fi-432\ri0\sl276\slmult1\sb480

\f0\b\fs28 \cf4 \
\pard\pardeftab720\ri0

\b0\fs24 \cf0 \page \
\pard\pardeftab720\li432\fi-432\ri0\sl276\slmult1\sb480

\f1\b\fs28 \cf4 10	API reference\
\pard\pardeftab720\li576\fi-576\ri0\sl276\slmult1\sb200

\fs22 \cf5 10.1	
\fs26 \cf6 Saml20Identity\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0\fs22 \cf0 The 
\f3 Saml20Identity
\f2  class is the primary class for interacting with the information received from the identity provider after the user has signed in. \
It extends the 
\f3 System.Security.Principal.IIdentity
\f2  interface with methods that provide access to the received attributes and the principal\'92s persistent pseudonym. \
The SAML extended principal is obtained through the 
\f3 Saml20Identity.Current
\f2  property. This property is 
\f3 null
\f2  if the user has not been authenticated with a SAML assertion.\

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrt\brdrs\brdrw10\brdrcf0 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth2352\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7224\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0
\cf0 Class
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 Saml20Identity
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clmrg \clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Properties
\fs24 \cell 
\pard\intbl\itap1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth3815\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5761\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 static Saml20Identity Current
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Retrieves the user's identity and the attributes that were extracted from the SAML assertion. Returns 
\f3 null
\f2  if the user has not been authenticated using SAML.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth3815\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth5761\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 string PersistentPseudonym
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 This property holds the persistent pseudonym, if one was used when authenticating the user.
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clmrg \clvertalt \clcbpat9 \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Methods
\fs24 \cell 
\pard\intbl\itap1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clmrg \clvertalt \clshdrawnil \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 static bool IsInitialized
\fs24 \cell 
\pard\intbl\itap1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clmrg \clvertalt \clshdrawnil \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Returns 
\f3 true
\f2  if the user has been authenticated using SAML. Can be used to check that the 
\f3 Saml20Identity
\f2  is available
\fs24 \cell 
\pard\intbl\itap1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clmrg \clvertalt \clshdrawnil \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 bool HasAttribute(string)
\fs24 \cell 
\pard\intbl\itap1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clmrg \clvertalt \clshdrawnil \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Checks whether the attribute with the given name was issued with the assertion.
\fs24 \cell 
\pard\intbl\itap1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clmrg \clvertalt \clshdrawnil \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 List<SamlAttribute> this [string]
\fs24 \cell 
\pard\intbl\itap1\cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrb\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clmrg \clvertalt \clshdrawnil \clwWidth9576\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Retrieves a list of attributes with the given name.
\fs24 \
\

\fs22 Example of usage: 
\fs24 \
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0   List<SamlAttribute> name = \uc0\u8232                       Saml20Identity.Current[\'93urn:oid:2.5.4.5\'94];
\fs24 \
\pard\intbl\itap1\pardeftab720\ri0

\f2 \cf0 \
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 This method will throw a 
\f3 KeyNotFoundException
\f2  if the attribute is not found. Use 
\f3 HasAttribute
\f2  to verify the presence of an attribute before calling this method.
\fs24 \cell 
\pard\intbl\itap1\cell \lastrow\row
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\fs22 \cf0 \
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f0\b \cf5 \page \
\pard\pardeftab720\li576\fi-576\ri0\sl276\slmult1\sb200

\f1 \cf5 10.2	
\fs26 \cf6 HttpHandlers\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0\fs22 \cf0 The endpoints handling protocol messages are implemented using ASP.NET Http Handlers. \
There are 3 endpoint types that must be installed to get a functioning service provider. \

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrt\brdrs\brdrw10\brdrcf0 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth2358\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clcbpat9 \clwWidth7218\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0
\cf0 Endpoint type
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 HTTP Handler class
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth2358\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7218\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Sign on
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 dk.nita.saml20.protocol.Saml20SignonHandler
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth2358\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7218\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Logout
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 dk.nita.saml20.protocol.Saml20LogoutHandler
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrb\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth2358\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7218\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 Metadata
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 dk.nita.saml20.protocol.Saml20MetadataHandler
\fs24 \cell \lastrow\row
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\fs22 \cf0 \
A service provider installation must have all 3 handlers installed. The metadata endpoint can be removed once the service provider\'92s configuration is finalized and its metadata file has been downloaded.\
\pard\pardeftab720\ri0
\cf0 Furthermore there are two extra endpoints, of which at least one is necessary to install if common domain cookie reading is enabled (more details about this in chapter 11):\

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrt\brdrs\brdrw10\brdrcf0 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clcbpat9 \clwWidth2358\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clcbpat9 \clwWidth7218\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0
\cf0 Endpoint type
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 HTTP Handler class
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth2358\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7218\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Local cookie reading
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 dk.nita.saml20.protocol.Saml20CDCReader
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrs\brdrw10\brdrcf0 \trbrdrb\brdrs\brdrw10\brdrcf0 \trbrdrr\brdrs\brdrw10\brdrcf0 
\clvertalt \clshdrawnil \clwWidth2358\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth7218\clftsWidth3 \clbrdrt\brdrs\brdrw10\brdrcf0 \clbrdrl\brdrs\brdrw10\brdrcf0 \clbrdrb\brdrs\brdrw10\brdrcf0 \clbrdrr\brdrs\brdrw10\brdrcf0 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\f2\fs22 \cf0 IdP cookie writer return point
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\f3\fs22 \cf0 dk.nita.saml20.protocol.SAML20CDCIdPReturnPoint
\fs24 \cell \lastrow\row
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\fs22 \cf0 \
ASP.NET provides (at least) two ways to add HTTP handlers to a web application\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f1\i\fs24 \cf6 \kerning1\expnd3\expndtw15
Web.config\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\i0\fs22 \cf0 \kerning1\expnd0\expndtw0 HTTP handlers can be added to a web application by adding them in the 
\f3 <httpHandlers>
\f2  section of 
\f3 web.config
\f2 . Consult the MSDN documentation for a reference on the 
\f3 <httpHandlers>
\f2  element. The 
\f3 verb
\f2  attribute must be set to 
\f3 \'93*\'94
\f2  for the handlers. \
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f1\i\fs24 \cf6 \kerning1\expnd3\expndtw15
Website files\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\i0\fs22 \cf0 \kerning1\expnd0\expndtw0 A handler can be added to a website as an 
\f3 .ashx
\f2  file. \
Example of how to add sign on handler in a file called 
\f3 signon.ashx
\f2 :\
\pard\pardeftab720\ri0

\f3 \cf0  <%@ WebHandler Class="dk.nita.saml20.protocol.Saml20SignonHandler" %>\
\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2 \cf0 More examples of 
\f3 .ashx
\f2  files can be found in the website demo in the distribution.\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f0\b \cf5 \page \
\pard\pardeftab720\li576\fi-576\ri0\sl276\slmult1\sb200

\f1 \cf5 10.3	
\fs26 \cf6 Attribute queries\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0\fs22 \cf0 An attribute query enables a service provider to request more attributes on an authenticated subject from the federation partner that authenticated him. More information on attribute queries can be found in section 3.3.2.3 of [SAML].\
The queries are executed with the currently authenticated user as a subject. Returned attributes are available through the 
\f3 Saml20Identity
\f2  class after the query finishes.\
The following is an example of how to query for all available attributes about the currently authenticated user \
\pard\pardeftab720\ri0

\f3 \cf0  Saml20AttributeQuery query = Saml20AttributeQuery.GetDefault();\
 query.PerformQuery(Context);\
\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2 \cf0 Specific attributes are requested by adding the name of the attributes to the request. \
\pard\pardeftab720\ri0

\f3 \cf0  Saml20AttributeQuery query = Saml20AttributeQuery.GetDefault();\
 query.AddAttribute("urn:oid:2.5.4.11");\
 query.PerformQuery(Context);\
\
\pard\pardeftab720\li576\fi-576\ri0\sl276\slmult1\sb200

\f1\b \cf5 10.4	
\fs26 \cf6 Sample identity provider API\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0\fs22 \cf0 The user data issued by the demonstration identity provider are hard coded, so if you wish to modify these it is necessary to recompile from the source distribution. \
The list of available attributes can be found in the 
\f3 IdentityProviderDemo.Logic.IDPConfig
\f2  class. The available users and their attributes are defined in the class 
\f3 IdentityProviderDemo.Logic.UserData
\f2 .\
\pard\pardeftab720\li576\fi-576\ri0\sl276\slmult1\sb200

\f1\b \cf5 10.5	
\fs26 \cf6 ForceAuthn and IsPassive\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0\fs22 \cf0 If you wish to set the ForceAuthn and IsPassive flags for a given authentication request, this can be done by setting two session variables. The names of the session variables in question are defined as constants in the class Saml20AbstractEndpointHandler. The constants are: 
\f3\fs20 IDPForceAuthn 
\f2\fs22 and
\f3\fs20  IDPIsPassive. 
\f2\fs22 The value of the session variables must be of type 
\f3\fs20 bool (true 
\f2\fs22 or
\f3\fs20  false). 
\f2\fs22 When one of these session variables are read by the framework, the value is automatically reset, which in effect means that the value must be set every time you wish to use either of these flags.\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f0\b\fs28 \cf4 \page \
\pard\pardeftab720\li432\fi-432\ri0\sl276\slmult1\sb480

\f1 \cf4 11	Common Domain Cookies\
\pard\pardeftab720\ri0

\f2\b0\fs22 \cf0 This chapter will describe how to enable the reading of common domain cookies in the federation. The setup used in this demonstration of the common domain cookie is illustrated in the figure below.\
\
\
\
\
As illustrated in the figure above, there reside two Service Providers and two Identity Providers in the basic setup. The following briefly explains the scenario illustrated in the figure.\
\
\pard\pardeftab720\li720\fi-360\ri0
\ls12\ilvl1\cf0 1.	The user requests a web application resource from Service Provider 1.\
2.	Service Provider1 determines that the resource is protected and that no common domain cookie exists, since the user has no SSO session with an Identity Provider. The user is prompted to select one of the two possible Identity Providers.\
3.	The user selects Identity Provider 1, which causes Service Provider 1 to redirect the user to Identity Provider1 with a request as parameter.\
4.	Identity Provider 1 establishes that the user has no current (IdP) session, and therefore initiates the authentication of the user after which the Identity Provider stores the identifier of itself in the common domain cookie.\
5.	Identity Provider 1 sends the user back to Service Provider 1 with a response containing a SAML assertion. The Service Provider validates the assertion and performs an authorization check on the resource originally requested by the user.\
6.	The resource is finally returned to the user.\
7.	The user requests a web application resource from Service Provider 2.\
8.	Service Provider2 determines that the resource is protected and that a common domain cookie exists.\
9.	The user is redirected to the Identity Provider specified in the cookie, namely Identity Provider 1.\
10.	Identity Provider 1 establishes that the user is already authenticated.\
11.	The user is sent back to Service Provider 2 with a response containing a SAML assertion. Service Provider 2 validates the assertion and performs an authorization check on the resource originally requested by the user.\
12.	The resource is finally returned to the user.\
\pard\pardeftab720\ri0
\cf0 \
\pard\pardeftab720\li432\fi-432\ri0\sl276\slmult1\sb480

\f1\b\fs28 \cf4 12	Virk.dk extension\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0\fs22 \cf0 The assembly dk.nita.saml20.ext.brs.dll is a framework that allows programmatic access to the Authorisations attribute from Virk.dk.\
It is important to note that the Authorisations attribute is only supplied through attribute query when using POST binding (The only binding currently supported by this toolkit when connecting to virk.dk).\
After the user is authenticated and the Authorisations attribute has been obtained through an attribute query, you can use code like following to determine if a user X has a given privilege Y:\
\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f3\fs20 \cf0 BRSUtil util = \cf3 new\cf0  BRSUtil();\
\pard\pardeftab720\ri0
\cf3 if\cf0 (util.HasAuthorisationAttribute())\
\pard\pardeftab720\ri0\sl276\slmult1\sa200
\cf0 \{\
	\cf3 string\cf0  cvrNumber = \'9312365454\'94;\
	\cf3 string\cf0  privilege = \'93aPrivilege\'94; \
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\fs22 \cf0  	
\f3\fs20 \cf3 bool\cf0  b =
\f2\fs22  
\f3\fs20 util.HasPrivilegeForCvrNumber(cvrNumber, privilege);\
\}\

\f2\fs22 The function 
\f3\fs20 HasPrivilegeforCvrNumber
\f2\fs22  throws an exception if the Authorisations attribute has not been obtained for the current user, which is why the 
\f3\fs20 HasAuthorisationsAttribute
\f2\fs22  should be called. The 
\f3\fs20 BRSUtil
\f2\fs22  class also has a function called 
\f3\fs20 HasPrivilegeForProductionUnit
\f2\fs22  which has the same method signature as 
\f3\fs20 HasPrivilegeforCvrNumber
\f2\fs22 , but the first parameter should be a production unit id instead of a cvr number.\
Please refer to the WebsiteDemoVirk folder for a more complete example on how to use this extension.\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f0\b\fs28 \cf4 \page \
\pard\pardeftab720\li432\fi-432\ri0\sl276\slmult1\sb480

\f1 \cf4 13	Troubleshooting\
\pard\pardeftab720\ri0

\f3\b0\fs18 \cf0 \
\pard\pardeftab720\li576\fi-576\ri0\sl276\slmult1\sb200

\f1\b\fs22 \cf5 13.1	
\fs26 \cf6 Enabling debug logging\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\b0\fs22 \cf0 Debug logging can be enabled for any website using the framework by adding the following section to web.config:\
\pard\pardeftab720\ri0

\f3\fs20 \cf3 	<\cf7 system.diagnostics\cf3 >\
		<\cf7 trace\cf3  \cf8 autoflush\cf3 =\cf0 "\cf3 true\cf0 "\cf3  ></\cf7 trace\cf3 >\
		<\cf7 sources\cf3 >\
			<\cf7 source\cf3  \cf8 name\cf3 =\cf0 "\cf3 dk.nita.saml20\cf0 "\cf3  \cf8 switchValue\cf3 =\cf0 "\cf3 Information\cf0 "\cf3 >\
				<\cf7 listeners\cf3 >\
					<\cf7 add\cf3  \cf8 name\cf3 =\cf0 "\cf3 trace\cf0 "\cf3 />\
				</\cf7 listeners\cf3 >\
			</\cf7 source\cf3 >\
		</\cf7 sources\cf3 >\
		<\cf7 sharedListeners\cf3 >\
			<\cf7 add\cf3  \cf8 name\cf3 =\cf0 "\cf3 trace\cf0 "\cf3  \cf8 type\cf3 =\cf0 "\cf3 System.Diagnostics.XmlWriterTraceListener\cf0 "\cf3  \cf8 initializeData\cf3 =\cf0 "\cf3 C:\\logs\\saml2.tracelog\cf0 "\cf3 />\
		</\cf7 sharedListeners\cf3 >\
\pard\pardeftab720\ri0\sl276\slmult1\sa200
\cf3 	</\cf7 system.diagnostics\cf3 >\
\
\pard\pardeftab720\ri0

\f2\fs22 \cf0 Please note that the debug information will be written to the file specified in the 
\f3\fs20 \cf8 initializeData
\f2\fs22 \cf0  attribute and that the directory (in this case 
\f3\fs20 \cf3 c:\\logs
\f2\fs22 \cf0 ) must exist.\
If you need further information to be traced you can change switchValue from \'93Error\'94 to \'93Information\'94.\
\
\
\pard\pardeftab720\li432\fi-432\ri0\sl276\slmult1\sb480

\f0\b\fs28 \cf4 \page \pard\pardeftab720\li432\fi-432\ri0\sl276\slmult1\sb480

\f1 \cf4 14	Audit & Logging\
\pard\pardeftab720\ri0

\f0\b0\fs24 \cf0 \
\pard\pardeftab720\ri0

\f1 \cf0 A audit and logging system has been introduced, utilizing the open source product log4net.\uc0\u8232 The web.config file for the demo service provider shows an example of setting up logging to a file, but log4net can also log to relational databases etc.\u8232 The example is shown here:\
\pard\pardeftab720\ri0

\f3\fs16 \cf3 <\cf7 configuration\cf3 >\
  <\cf7 configSections\cf3 >\
    \'85\
    <\cf7 section\cf3  \cf8 name\cf3 =\cf0 "\cf3 log4net\cf0 "\cf3  \cf8 type\cf3 =\cf0 "\cf3 log4net.Config.Log4NetConfigurationSectionHandler,Log4net\cf0 "\cf3 />\
 </\cf7 configSections\cf3 >\
       <\cf7 log4net\cf3 >        \
            <\cf7 root\cf3 >\
                  <\cf7 level\cf3  \cf8 value\cf3 =\cf0 "\cf3 All\cf0 "\cf3  />\
                  <\cf7 appender-ref\cf3  \cf8 ref\cf3 =\cf0 "\cf3 LogFileAppender\cf0 "\cf3  />\
            </\cf7 root\cf3 >\
            <\cf7 appender\cf3  \cf8 name\cf3 =\cf0 "\cf3 LogFileAppender\cf0 "\cf3  \cf8 type\cf3 =\cf0 "\cf3 log4net.Appender.RollingFileAppender\cf0 "\cf3  >\
                  <\cf7 param\cf3  \cf8 name\cf3 =\cf0 "\cf3 File\cf0 "\cf3  \cf8 value\cf3 =\cf0 "\cf3 C:\\temp\\log.txt\cf0 "\cf3  />\
                  <\cf7 param\cf3  \cf8 name\cf3 =\cf0 "\cf3 AppendToFile\cf0 "\cf3  \cf8 value\cf3 =\cf0 "\cf3 true\cf0 "\cf3  />\
                  <\cf7 rollingStyle\cf3  \cf8 value\cf3 =\cf0 "\cf3 Size\cf0 "\cf3  />\
                  <\cf7 maxSizeRollBackups\cf3  \cf8 value\cf3 =\cf0 "\cf3 10\cf0 "\cf3  />\
                  <\cf7 maximumFileSize\cf3  \cf8 value\cf3 =\cf0 "\cf3 10MB\cf0 "\cf3  />\
                  <\cf7 staticLogFileName\cf3  \cf8 value\cf3 =\cf0 "\cf3 true\cf0 "\cf3  />\
                  <\cf7 layout\cf3  \cf8 type\cf3 =\cf0 "\cf3 log4net.Layout.PatternLayout\cf0 "\cf3 >\
                        <\cf7 param\cf3  \cf8 name\cf3 =\cf0 "\cf3 ConversionPattern\cf0 "\cf3  \cf8 value\cf3 =\cf0 "\cf3 %-5p%d\{yyyy-MM-dd hh:mm:ss\}-%m%n\cf0 "\cf3  />\
                  </\cf7 layout\cf3 >\
            </\cf7 appender\cf3 >\
   </\cf7 log4net\cf3 >\
  <\cf7 location\cf3  \cf8 path\cf3 =\cf0 "\cf3 MyPage.aspx\cf0 "\cf3 >\
    <\cf7 system.web\cf3 >\
      <\cf7 authorization\cf3 >\
        <\cf7 deny\cf3  \cf8 users\cf3 =\cf0 "\cf3 ?\cf0 "\cf3 />\
      </\cf7 authorization\cf3 >\
    </\cf7 system.web\cf3 >\
  </\cf7 location\cf3 >
\f0 \cf0 \
\pard\pardeftab720\ri0

\f2\fs22 \cf0 \page \
\pard\pardeftab720\li432\fi-432\ri0\sl276\slmult1\sb480

\f1\b\fs28 \cf4 15
\f0 	
\f1 Setting up with ADFS v2.
\f0 \
\pard\pardeftab720\ri0

\b0\fs24 \cf0 \
\pard\pardeftab720\ri0

\f1 \cf0 The following shows how to setup dk.nita with ADFS v2 as Identify Provider. 
\f0 \
\
\
\pard\pardeftab720\li720\fi-360\ri0\sl276\slmult1\sa200
\ls13\ilvl1
\f1 \cf0 1.	Install Windows Identify Framework: {\field{\*\fldinst{HYPERLINK "http://www.microsoft.com/downloads/details.aspx?familyid=EB9C345F-E830-40B8-A5FE-AE7A864C4D76&displaylang=en%22%20%5Cl%20%22filelist"}}{\fldrslt \cf3 \ul \ulc3 http://www.microsoft.com/downloads/details.aspx?familyid=EB9C345F-E830-40B8-A5FE-AE7A864C4D76&displaylang=en#filelist}} \
2.	Enable SSL on IIS (Preferably use \'93real\'94 certificate, i.e. not self issued)\
3.	Download ADFS 2 RC: {\field{\*\fldinst{HYPERLINK "http://www.microsoft.com/downloads/details.aspx?displaylang=en&FamilyID=118c3588-9070-426a-b655-6cec0a92c10b"}}{\fldrslt \cf3 \ul \ulc3 http://www.microsoft.com/downloads/details.aspx?displaylang=en&FamilyID=118c3588-9070-426a-b655-6cec0a92c10b}}
\f0 \
\ls13\ilvl1
\f1 4.	Configure ADFS 2.0 \
5.	Setup the relying party, that is the Demo Service Provider\
\pard\pardeftab720\li1440\fi-360\ri0\sl276\slmult1\sa200
\ls13\ilvl1\cf0 a.	The Demo Service Provider must be available through SSL\
\pard\pardeftab720\li2160\fi-180\ri0\sl276\slmult1\sa200
\ls13\ilvl2\cf0 i.	Remember to change the \'93Server\'94 attribute of the ServiceProvider in the SP\'92s web.config. It should be on HTTPS if ADFS is to accept the endpoints\
\pard\pardeftab720\li1440\fi-360\ri0\sl276\slmult1\sa200
\ls13\ilvl1\cf0 b.	If you want to have automatic metadata exchange and monitoring the the SSL certificate on the SP must be valid and trusted (I.e. no need to accept a \'93broken\'94 certificate)\
c.	If you don\'92t want to go through the trust exercise, just download the SP metadata into a file and load the file into ADFS\
\pard\pardeftab720\li720\fi-360\ri0\sl276\slmult1\sa200
\ls13\ilvl1\cf0 6.	Add \'93Claim rules\'94 (use \'93Edit Claim Rules\'85\'94 on the popup menu of the relying party)\
\pard\pardeftab720\li1440\fi-360\ri0\sl276\slmult1\sa200
\ls13\ilvl1\cf0 a.	MUST: Add two LDAP claims:\
\pard\pardeftab720\li1440\ri0

\f0 \cf0 \

\f1 Add any other claims you like\
\pard\pardeftab720\li720\fi-360\ri0\sl276\slmult1\sa200
\ls14\ilvl1\cf0 7.	Go to the service provider machine and download the ADFS metadata and put them in the appropriate directory, e.g. \'93c:\\metadata\'94\
8.	Open the SP in a browser and try to log in.\
9.	If you get an error like \'93ErrorCode: \'85status: Responder. Message: .\'94 it may be a problem with the expected hashing algorithm on ADFS:\
\pard\pardeftab720\li1440\fi-360\ri0\sl276\slmult1\sa200
\ls14\ilvl1\cf0 a.	Check the event log of ADFS and look for trouble with the signature of the SAML Request\
b.	If a problem with SHA-1 vs. SHA-256 is indicated, go to ADF and bring up the properties of the relying party (Demo SP).\
c.	Go to the \'93Advanced\'94 tab and change the signature algorithm to SHA-1. (For some reason ADFS is not able to read this from metadata)\
\pard\pardeftab720\li720\fi-360\ri0\sl276\slmult1\sa200
\ls14\ilvl1\cf0 10.	The provided demo certificates cannot be used in this scenario. Use real issued certificates from a trusted party (e.g. and internal CA).\
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f0 \cf0 \page \
\pard\pardeftab720\li432\fi-432\ri0\sl276\slmult1\sb480

\f1\b\fs28 \cf4 16
\f0 	
\f1 References\
\pard\pardeftab720\ri0

\f0\b0\fs24 \cf0 \
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\f2\fs22 \cf0 \

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrt\brdrnil \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth1278\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf10 \clbrdrl\brdrs\brdrw20\brdrcf10 \clbrdrb\brdrs\brdrw20\brdrcf10 \clbrdrr\brdrs\brdrw20\brdrcf10 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth8298\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf10 \clbrdrl\brdrs\brdrw20\brdrcf10 \clbrdrb\brdrs\brdrw20\brdrcf10 \clbrdrr\brdrs\brdrw20\brdrcf10 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0
\cf0 [SAML]
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Assertions and Protocols for the OASIS Security Assertion Markup Language (SAML) v2.0
\fs24 \

\fs22 saml-core-2.0-os
\fs24 \

\fs22 http://docs.oasis-open.org/security/saml/v2.0/
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth1278\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf10 \clbrdrl\brdrs\brdrw20\brdrcf10 \clbrdrb\brdrs\brdrw20\brdrcf10 \clbrdrr\brdrs\brdrw20\brdrcf10 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth8298\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf10 \clbrdrl\brdrs\brdrw20\brdrcf10 \clbrdrb\brdrs\brdrw20\brdrcf10 \clbrdrr\brdrs\brdrw20\brdrcf10 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 [Metadata]
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Metadata for the OASIS Security Assertion Markup Language (SAML) V2.0
\fs24 \

\fs22 saml-metadata-2.0-os
\fs24 \

\fs22 http://docs.oasis-open.org/security/saml/v2.0/
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth1278\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf10 \clbrdrl\brdrs\brdrw20\brdrcf10 \clbrdrb\brdrs\brdrw20\brdrcf10 \clbrdrr\brdrs\brdrw20\brdrcf10 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth8298\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf10 \clbrdrl\brdrs\brdrw20\brdrcf10 \clbrdrb\brdrs\brdrw20\brdrcf10 \clbrdrr\brdrs\brdrw20\brdrcf10 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 [Bindings]
\fs24 \cell 
\pard\intbl\itap1\pardeftab720\ri0

\fs22 \cf0 Bindings for the OASIS Security Assertion Markup Language (SAML) v2.0
\fs24 \

\fs22 saml-bindings-2.0-os
\fs24 \

\fs22 http://docs.oasis-open.org/security/saml/v2.0/
\fs24 \cell \row

\itap1\trowd \taflags1 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrt\brdrnil \trbrdrr\brdrnil 
\clvertalt \clshdrawnil \clwWidth1278\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf10 \clbrdrl\brdrs\brdrw20\brdrcf10 \clbrdrb\brdrs\brdrw20\brdrcf10 \clbrdrr\brdrs\brdrw20\brdrcf10 \clpadl100 \clpadr100 \gaph\cellx4320
\clvertalt \clshdrawnil \clwWidth8298\clftsWidth3 \clbrdrt\brdrs\brdrw20\brdrcf10 \clbrdrl\brdrs\brdrw20\brdrcf10 \clbrdrb\brdrs\brdrw20\brdrcf10 \clbrdrr\brdrs\brdrw20\brdrcf10 \clpadl100 \clpadr100 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\ri0
\cf0 \cell 
\pard\intbl\itap1\pardeftab720\ri0
\cf0 \cell \lastrow\row
\pard\pardeftab720\ri0\sl276\slmult1\sa200

\fs22 \cf0 \
}